(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+jN/":function(e,t,a){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SeriesParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Series"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailListId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featuredImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headerImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"headerVideos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mp4"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"webm"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MediaParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"socialTitle"},arguments:[],directives:[]}]}}],loc:{start:0,end:424}};n.loc.source={body:"#import 'fragments/MediaParts.gql'\n\nfragment SeriesParts on Series {\n\tcolors\n\tcount\n\tdescription\n\temailListId\n\tended\n\tfeaturedImage {\n\t\t...MediaParts\n\t}\n\theaderImages {\n\t\tlayer\n\t\tsize\n\t\timage {\n\t\t\t...MediaParts\n\t\t}\n\t}\n\theaderVideos {\n\t\tsize\n\t\tmp4 {\n\t\t\t...MediaParts\n\t\t}\n\t\twebm {\n\t\t\t...MediaParts\n\t\t}\n\t\tposter {\n\t\t\t...MediaParts\n\t\t}\n\t}\n\tid\n\tlink\n\tname\n\tshortDescription\n\tslug\n\tsocialImage {\n\t\t...MediaParts\n\t}\n\tsocialTitle\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("EH6r").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})),e.exports=n},"/csJ":function(e,t,a){e.exports={container:"_49659",quartzy:"c6239",polaroid:"_05e0c",work:"_02ea7",premium:"_82b7d","size-small":"_3c043",sizeSmall:"_3c043"}},"05WB":function(e,t,a){"use strict";var n=a("lwsE"),i=a.n(n),r=a("W8MJ"),s=a.n(r),o=a("a1gu"),l=a.n(o),c=a("Nsbk"),d=a.n(c),u=a("7W2i"),m=a.n(u),p=a("q1tI"),f=a.n(p),g=a("Biyx"),v=a("FfIL"),h=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={showRelativeDate:!1},a}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.setState({showRelativeDate:!0})}},{key:"render",value:function(){var e=this.props.dateGmt,t=this.state.showRelativeDate;return f.a.createElement("time",{dateTime:Object(g.d)(e).toISOString()},Object(g.b)(e,t))}}]),t}(f.a.Component),b=v.a.dateGmt;h.propTypes={dateGmt:b},t.a=h},"0E4w":function(e,t,a){e.exports={input:"_99aca",quartzy:"_5d932","status-confirmed":"_513c8",statusConfirmed:"_513c8","status-valid":"_5f320",statusValid:"_5f320",work:"_957d6","status-error":"e893b",statusError:"e893b",textarea:"_94491",inner:"_1982c","read-only":"e6abf",readOnly:"e6abf",subtext:"_89a41",spinner:"_797b7","context-hww-2019":"_71d12",contextHww2019:"_71d12","context-hww-footer":"_06c25",contextHwwFooter:"_06c25","context-hww-info":"_33767",contextHwwInfo:"_33767","context-hww":"_5c5f6",contextHww:"_5c5f6",email:"_71349","context-email-landing":"_89435",contextEmailLanding:"_89435","context-single-email":"_0e6f8",contextSingleEmail:"_0e6f8","toggle-visibility":"_6e64d",toggleVisibility:"_6e64d",toggle:"_7e131",label:"_17465",confirmation:"ef09f","context-login":"cb0f0",contextLogin:"cb0f0","context-my-account":"d6099",contextMyAccount:"d6099","context-password-reset":"af139",contextPasswordReset:"af139",container:"aeb3c","context-register-form":"_08848",contextRegisterForm:"_08848","context-link":"_060ab",contextLink:"_060ab","context-series-landing":"_168c4",contextSeriesLanding:"_168c4"}},"0Ojn":function(e,t,a){e.exports={container:"_43d66",quartzy:"_32a3c",work:"_9c71c",image:"_5fc35",caption:"ce7f0",credit:"_067d2",small:"_29ef1",alignleft:"_21ffe",medium:"_68dc3","two-column-layout":"_451d8",twoColumnLayout:"_451d8",large:"f2d42","extra-large":"d88f6",extraLarge:"d88f6"}},"0OzJ":function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a("pVnL"),i=a.n(n),r=a("QILm"),s=a.n(r),o=a("lSNA"),l=a.n(o),c=a("q1tI"),d=a.n(c),u=a("17x9"),m=a.n(u),p=a("qN82"),f=a.n(p),g=a("UbMB"),v=a.n(g),h=a("L7YX"),b=v.a.bind(f.a),k=function(e){var t=e.appTheme,a=e.checked,n=e.context,i=e.handleChange,r=e.hasError,s=e.size,o=e.text;return d.a.createElement("label",{className:b("container",t,s,l()({hasError:r},"context-".concat(n),n))},d.a.createElement("input",{type:"checkbox",checked:a,onChange:i}),o&&d.a.createElement("span",{className:b("text")},o))};k.propTypes={appTheme:m.a.string.isRequired,checked:m.a.bool,context:m.a.string,handleChange:m.a.func.isRequired,hasError:m.a.bool,size:m.a.oneOf(["large"]),text:m.a.string},k.defaultProps={hasError:!1};var y=Object(h.a)()(k);t.b=y;var E=function(e){var t=e.handleChange,a=e.fieldName,n=s()(e,["handleChange","fieldName"]);return d.a.createElement(y,i()({handleChange:function(e){return t(a,e.target.checked)}},n))};E.propTypes={handleChange:m.a.func.isRequired,fieldName:m.a.string.isRequired}},"15R3":function(e,t,a){e.exports={container:"_22a43",title:"ab9de",work:"b61fe",description:"f6468"}},"2zOU":function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("lwsE"),s=a.n(r),o=a("W8MJ"),l=a.n(o),c=a("a1gu"),d=a.n(c),u=a("Nsbk"),m=a.n(u),p=a("7W2i"),f=a.n(p),g=a("MVZn"),v=a.n(g),h=a("q1tI"),b=a.n(h),k=a("17x9"),y=a.n(k),E=a("/MKj"),S=a("lSNA"),w=a.n(S),N=a("PJYZ"),x=a.n(N),R=a("oJmH"),q=a("SEGk"),T=a.n(q),O=a("gkHA"),_=a("8iC8"),P=a("0OzJ"),j=a("L7YX"),F=a("UbMB"),I=a.n(F),C=a("8dqA"),D=a("3+Zh"),M=a("Qp5i"),A=I.a.bind(T.a),L=function(e){function t(e){var a;return s()(this,t),(a=d()(this,m()(t).call(this,e))).state={email:e.email||"",inputStatus:"",optIn:!1,loading:!1,error:"",showErrors:!1},a.handleChange=a.handleChange.bind(x()(x()(a))),a.handleKeyPress=a.handleKeyPress.bind(x()(x()(a))),a.handleEmailSubmit=a.handleEmailSubmit.bind(x()(x()(a))),a.optInOut=a.optInOut.bind(x()(x()(a))),a.trackSignup=a.trackSignup.bind(x()(x()(a))),a.onSuccess=a.onSuccess.bind(x()(x()(a))),a.onError=a.onError.bind(x()(x()(a))),a}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.userDataPromise=Object(D.a)()}},{key:"handleChange",value:function(e){this.setState({email:e}),this.props.handleChange({email:e})}},{key:"handleKeyPress",value:function(e){var t=e.charCode;[10,13].includes(t)&&this.handleEmailSubmit(e)}},{key:"handleEmailSubmit",value:function(){var e=this,t=this.state,a=t.email,n=t.optIn,i=this.props,r=i.listId,s=i.queryParams,o={marketing:n?1:0};s.referred_by&&(o.referred_by=s.referred_by),this.userDataPromise.then(function(t){if(!Object(C.b)(a))return e.onError({message:"Please enter a valid email"});e.setState({loading:!0});var n={emailAddress:a,listIds:r,customFields:o};Object(M.a)({data:n,userData:t,onSuccess:e.onSuccess,onError:e.onError})})}},{key:"optInOut",value:function(){var e=!this.state.optIn;this.setState({optIn:e})}},{key:"onSuccess",value:function(e){this.setState({inputStatus:"confirmed",loading:!1}),this.trackSignup(),this.props.onSignupConfirmed(e)}},{key:"onError",value:function(e){var t=e.message;this.setState({inputStatus:"error",loading:!1,error:t,showErrors:!0})}},{key:"trackSignup",value:function(){var e=this.state.email,t=this.props,a=t.submitNewsletterModule,n=t.moduleLocation,i=t.listId;Array.isArray(i)?i.forEach(function(t){a({moduleLocation:n,email:e,listId:t})}):a({moduleLocation:n,email:e,listId:i})}},{key:"render",value:function(){var e,t,a=this.props,n=a.context,i=a.appTheme,r=a.confirmationMessage,s=a.showCheckBox,o=a.checkboxSize,l=a.text,c=a.buttonText,d=a.color,u=a.className,m=a.placeholder,p=a.checkboxText,f=a.hideForm,g=a.clickNewsletterModule,v=a.label,h=a.hideOnConfirm,k=this.state,y=k.inputStatus,E=k.loading,S=k.showErrors,N=k.error,x=k.email,R=k.optIn,q=r||"Thanks for signing up!";return"confirmed"!==y||E?b.a.createElement("div",{className:A("container",(e={},w()(e,"context-".concat(n),n),w()(e,"hideForm",f),e),i,u)},l&&b.a.createElement("h5",{className:A("title",i)},l),b.a.createElement("div",{className:A("content")},v&&b.a.createElement("label",{className:A("label"),htmlFor:"email-signup"},v),b.a.createElement("div",{className:A("email")},b.a.createElement(O.e,{id:"email-signup",handleChange:this.handleChange,placeholder:m,value:x,status:y,handleKeyPress:this.handleKeyPress,handleFocus:g,type:"email",context:n,ref:"el","aria-label":m}),S&&N&&N.length&&b.a.createElement("div",{className:A("error-message"),dangerouslySetInnerHTML:{__html:N}})),b.a.createElement("div",{className:A("button-wrapper")},b.a.createElement(_.a,{buttonType:"primary",text:c,loading:E,onClick:this.handleEmailSubmit,color:d,context:n}))),s&&b.a.createElement(P.b,{context:n,size:o,handleChange:this.optInOut,text:p,checked:R})):b.a.createElement("div",{className:A("container",y,(t={},w()(t,"context-".concat(n),n),w()(t,"hideForm",f),w()(t,"hideOnConfirm",h),t))},b.a.createElement("h5",{className:A("confirmation-text",i)},q))}}]),t}(b.a.Component);L.propTypes={appTheme:y.a.string,buttonText:y.a.string,checkboxText:y.a.string,checkboxSize:y.a.string,className:y.a.string,clickNewsletterModule:y.a.func.isRequired,color:y.a.string,confirmationMessage:y.a.string,context:y.a.string,email:y.a.string,handleChange:y.a.func,hideForm:y.a.bool,listId:y.a.oneOfType([y.a.number,y.a.array]).isRequired,moduleLocation:y.a.string,onSignupConfirmed:y.a.func.isRequired,placeholder:y.a.string,showCheckBox:y.a.bool,submitNewsletterModule:y.a.func.isRequired,text:y.a.string.isRequired,queryParams:y.a.object,label:y.a.string,hideOnConfirm:y.a.bool.isRequired},L.defaultProps={appTheme:y.a.string.isRequired,buttonText:"Sign me up",checkboxText:"Stay updated about Quartz",className:"",clickNewsletterModule:function(){},confirmationMessage:"",handleChange:function(){},placeholder:"Enter your email",onSignupConfirmed:function(){},showCheckBox:!0,submitNewsletterModule:function(){},text:"",hideOnConfirm:!1};var B=Object(R.compose)(Object(E.b)(function(e){return{queryParams:e.refer.queryParams}}),Object(j.a)())(L),z=a("PHoY"),V=a("Km1T"),H=function(e){function t(){return s()(this,t),d()(this,m()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.moduleLocation,a=e.viewNewsletterModule,n=e.trackOnMount,i=e.trackOnView;n&&!i&&a({moduleLocation:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.moduleLocation,n=t.viewNewsletterModule,i=t.trackOnView,r=t.visible;i&&r&&!e.visible&&n({moduleLocation:a})}},{key:"render",value:function(){var e=this.props.setRef;return b.a.createElement(B,i()({ref:e},this.props))}}]),t}(b.a.Component);H.propTypes={moduleLocation:y.a.string.isRequired,viewNewsletterModule:y.a.func.isRequired,submitNewsletterModule:y.a.func.isRequired,trackOnMount:y.a.bool.isRequired,project:y.a.string,trackOnView:y.a.bool,visible:y.a.bool.isRequired,setRef:y.a.func.isRequired,listId:y.a.oneOfType([y.a.number,y.a.array]).isRequired},H.defaultProps={trackOnMount:!0,trackOnView:!1,project:""};t.a=Object(R.compose)(Object(E.b)(null,function(e,t){var a=t.listId;return{viewNewsletterModule:function(t){return e(Object(z.v)(v()({context:a,listId:a,stage:"view_email"},t)))},clickNewsletterModule:function(t){return e(Object(z.g)(v()({context:a,listId:a,stage:"click_email"},t)))},submitNewsletterModule:function(t){return e(Object(z.h)(v()({context:a,listId:a,stage:"submit_email"},t)))}}}),Object(V.a)({shouldUpdate:function(e,t){return e.hideForm!==t.hideForm||e.listId!==t.listId},usePolyfill:!0}))(H)},"3+Zh":function(e,t,a){"use strict";var n=null;t.a=function(){return n||(n=fetch("/user.json").then(function(e){return e.json()}).catch(function(){return{}}))}},"43L4":function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"e",function(){return r}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return l});var n=a("PIce"),i=function(){window.Atlas?window.Atlas.parse():Object(n.i)("https://www.theatlas.com/javascripts/atlas.js")},r=function(){window.twttr&&window.twttr.widgets?window.twttr.widgets.load():Object(n.i)("https://platform.twitter.com/widgets.js")},s=function(){window.FB?window.FB.XFBML.parse():Object(n.i)("https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=602231513195606")},o=function(){window.instgrm?window.instgrm.Embeds.process():Object(n.i)("https://platform.instagram.com/en_US/embeds.js")},l=function(){window.embedly?window.embedly("card"):Object(n.i)("https://cdn.embedly.com/widgets/platform.js")}},"4CPt":function(e,t,a){"use strict";var n=a("lSNA"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("8iC8"),d=a("UbMB"),u=a.n(d),m=a("fCYb"),p=a.n(m),f=u.a.bind(p.a),g=function(e){var t,a=e.cancelText,n=e.children,r=e.context,o=e.error,l=e.inactive,d=e.loading,u=e.onCancel,m=e.submitText,p=e.submitButtonType,g=e.subtext,v=e.cancelButtonType;return s.a.createElement("div",{className:f("container")},s.a.createElement("div",{className:f("actions",i()({},"context-".concat(r),r))},s.a.createElement(c.a,{type:"submit",context:r,loading:d,buttonType:p,text:m,inactive:l}),a&&u&&s.a.createElement(c.a,(t={buttonType:"secondary"},i()(t,"buttonType",v),i()(t,"context",r),i()(t,"onClick",u),i()(t,"text",a),t))),o&&s.a.createElement("div",{className:f("error")},o),(g||n)&&s.a.createElement("div",{className:f("subtext")},g||n))};g.propTypes={cancelButtonType:l.a.oneOf(["primary","secondary","transparent"]),cancelText:l.a.string,children:l.a.node,context:l.a.string,error:l.a.node,inactive:l.a.bool,loading:l.a.bool,onCancel:l.a.func,submitButtonType:l.a.oneOf(["primary","secondary","transparent"]),submitText:l.a.string.isRequired,subtext:l.a.string},g.defaultProps={cancelButtonType:"secondary",submitButtonType:"primary",inactive:!1},t.a=g},"4yYl":function(e,t,a){e.exports={kicker:"_45621",ordinal:"_09ff9"}},"51S/":function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("QILm"),s=a.n(r),o=a("q1tI"),l=a.n(o),c=a("17x9"),d=a.n(c),u=a("2zOU"),m=a("lSNA"),p=a.n(m),f=a("8iC8"),g=a("dzcC"),v=a.n(g),h=a("UbMB"),b=a.n(h),k=a("L7YX"),y=a("F5l7"),E=a("uLck"),S=b.a.bind(v.a),w=function(e){var t=e.text,a=e.url,n=e.buttonText,i=e.color,r=e.context,s=e.className,o=e.appTheme,c=e.content,d=e.imgSrc,u=e.target,m=e.altText;return l.a.createElement("div",{className:S("container",p()({},"context-".concat(r),r),s,o)},d&&l.a.createElement(y.a,{className:S("image"),src:d,width:335,height:114,alt:m}),l.a.createElement("h5",{className:S("title",o)},t),c&&l.a.createElement("div",{className:S("content")},c),l.a.createElement("div",{className:S("button")},l.a.createElement(E.a,{to:a,target:u},l.a.createElement(f.a,{buttonType:"primary",loading:!1,text:n,color:i}))))};w.propTypes={appTheme:d.a.string.isRequired,text:d.a.string.isRequired,url:d.a.string.isRequired,buttonText:d.a.string,color:d.a.string,context:d.a.string,className:d.a.string,content:d.a.string,imgSrc:d.a.string,target:d.a.string,altText:d.a.string},w.defaultProps={buttonText:"Follow us",target:"_blank",altText:""};var N=Object(k.a)()(w),x=function(e){var t=e.type,a=s()(e,["type"]);return"email"===t?l.a.createElement(u.a,i()({},a,{trackOnView:!0})):l.a.createElement(N,a)};x.propTypes={type:d.a.oneOf(["social","email","app"])},x.defaultProps={className:"container",context:"promotion"};t.a=x},"59WU":function(e,t,a){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProjectParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}],loc:{start:0,end:127}};n.loc.source={body:"#import 'fragments/MediaParts.gql'\n\nfragment ProjectParts on Project {\n\tid\n\tcount\n\tdescription\n\tshortDescription\n\tname\n\tslug\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("EH6r").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})),e.exports=n},"5CCQ":function(e,t,a){"use strict";var n=a("J4zp"),i=a.n(n),r=a("lwsE"),s=a.n(r),o=a("W8MJ"),l=a.n(o),c=a("a1gu"),d=a.n(c),u=a("Nsbk"),m=a.n(u),p=a("7W2i"),f=a.n(p),g=a("q1tI"),v=a.n(g),h=a("17x9"),b=a.n(h),k=a("EEAD"),y=a.n(k),E=a("UbMB"),S=a.n(E),w=a("luTm"),N=a("oJmH"),x=a("Ji1W"),R=a("PIce"),q=S.a.bind(y.a),T=function(e){var t=Object.keys(x.a);e.sort(function(e,a){return t.indexOf(e.breakpoint)-t.indexOf(a.breakpoint)})},O=function(e){function t(e){var a;return s()(this,t),(a=d()(this,m()(t).call(this,e))).id=Object(R.g)(JSON.stringify(e.sources)),a}return f()(t,e),l()(t,[{key:"render",value:function(){var e="",t=null,a=this.props,n=a.alt,r=a.sources,s=a.className,o=a.visible,l=a.setRef,c="ArtDirection__".concat(this.id);T(r),r.forEach(function(a,n){var i=a.breakpoint,r=a.aspectRatio,s=100/r;r!==t&&(e+=0===n?".".concat(c," { padding-bottom: ").concat(s,"%; }"):"@media ".concat(x.a[i].media," { .").concat(c," { padding-bottom: ").concat(s,"%; } }")),t=r});var d=i()(r,1)[0],u=d.url,m=d.width,p=d.height,f=p?Object(x.e)(u,m,p,!0):Object(x.e)(u,m);return r.reverse(),v.a.createElement(g.Fragment,null,v.a.createElement("style",{dangerouslySetInnerHTML:{__html:e}}),v.a.createElement("picture",{className:q("container",c,s),ref:l},r.map(function(e,t){var a=e.breakpoint,n=e.url,i=e.width,r=e.height,s=r?[i,r,!0]:[i],o=Object(x.b)(n,s);return v.a.createElement("source",{key:t,media:x.a[a].media,srcSet:o})}),o&&v.a.createElement("img",{alt:n,className:q("image"),decoding:"async",src:f})))}}]),t}(v.a.Component),_=function(e){var t=e.alt,a=e.sources;return T(a),v.a.createElement(g.Fragment,null,a.map(function(e,n){var i=e.url,r=e.width,s=e.aspectRatio,o=e.breakpoint,l=e.height||Math.round(r*s),c=!!e.height,d=x.a[o].media;x.a[o].maxWidth&&n<a.length-1&&(d+=" and (max-width: ".concat(Object(x.d)(x.a[o].maxWidth),"em)"));var u=Object(x.e)(i,r,l,c);return v.a.createElement("amp-img",{key:n,src:u,layout:"responsive",width:s,height:1,alt:t,media:d})}))};O.propTypes={alt:b.a.string.isRequired,sources:b.a.arrayOf(b.a.shape({breakpoint:b.a.string.isRequired,url:b.a.string.isRequired,aspectRatio:b.a.number.isRequired,width:b.a.number.isRequired,height:b.a.number})),className:b.a.string,visible:b.a.bool.isRequired,setRef:b.a.func},_.propTypes={alt:b.a.string.isRequired,sources:b.a.arrayOf(b.a.shape({breakpoint:b.a.string.isRequired,url:b.a.string.isRequired,aspectRatio:b.a.number.isRequired,width:b.a.number.isRequired,height:b.a.number}))},t.a=Object(N.compose)(Object(w.d)(_),Object(w.B)({shouldUpdate:function(e,t){return Object(R.e)(e,".sources[0].url")!==Object(R.e)(t,".sources[0].url")}}),Object(w.s)())(O)},"5Oy7":function(e,t,a){var n=a("q1tI");function i(e){return n.createElement("svg",e,n.createElement("path",{d:"M18.75 0C19.44 0 20 .56 20 1.25v1.194l-10 10-10-10V1.25C0 .56.559 0 1.25 0h17.5zM20 15.125l-5.015-5.015L20 5.096v10.029zm-9.338-.693l2.998-2.996 6.34 6.34v.974c0 .691-.56 1.25-1.25 1.25H1.25A1.25 1.25 0 0 1 0 18.75v-.974l6.34-6.341 2.996 2.997v.002a.94.94 0 0 0 1.326-.002zM0 5.096l5.015 5.014L0 15.125V5.096z",style:{fill:"var(--color-ui,000)"},fillRule:"evenodd"}))}i.defaultProps={width:"20",height:"20",viewBox:"0 0 20 20"},e.exports=i,i.default=i},"5yKF":function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GuideQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"guides"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GuideParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"orderby"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DATE"}},{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"ASC"}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:478}};n.loc.source={body:"#import 'fragments/ArticleTeaserParts.gql'\n#import 'fragments/GuideParts.gql'\n\nquery GuideQuery(\n\t$after: String = \"\"\n\t$slug: [String]\n\t$postsPerPage: Int\n) {\n\tguides(\n\t\twhere: {\n\t\t\tslug: $slug\n\t\t}\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...GuideParts\n\t\t\t\tposts(\n\t\t\t\t\tfirst: $postsPerPage\n\t\t\t\t\tafter: $after\n\t\t\t\t\twhere: {\n\t\t\t\t\t\torderby: {\n\t\t\t\t\t\t\tfield: DATE\n\t\t\t\t\t\t\torder: ASC\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t) {\n\t\t\t\t\tedges {\n\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t...ArticleTeaserParts\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}n.definitions=n.definitions.concat(r(a("DwUG").definitions)),n.definitions=n.definitions.concat(r(a("hByk").definitions));var s={};function o(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),s[e.name.value]=t}}),e.exports=n,e.exports.GuideQuery=function(e,t){var a={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=s[t]||new Set,i=new Set,r=new Set(n);r.size>0;){var l=r;r=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(s[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var n=o(e,t);n&&a.definitions.push(n)}),a}(n,"GuideQuery")},"6Xl/":function(e,t,a){e.exports={container:"f46e3","mobile-full-width":"_09569",mobileFullWidth:"_09569",work:"b8d47",app:"_3d48c",premium:"_3fe10",content:"_61c55",collapsed:"_45d01",quartzy:"_6923f",paywalled:"_498ae",video:"_42d95","sponsor-message":"bd1b7",sponsorMessage:"bd1b7","scrollable-container":"_1d92c",scrollableContainer:"_1d92c",guide:"_188f8"}},"7AM1":function(e,t,a){e.exports={container:"_4e6ef","mobile-full-width":"_8ea23",mobileFullWidth:"_8ea23",work:"_81c59",large:"_7d785","extra-large":"dab5a",extraLarge:"dab5a",polaroid:"f4006",portrait:"_8eb9e","image-container":"_0af78",imageContainer:"_0af78",caption:"fd41e",credit:"_106e5"}},"7juF":function(e,t,a){e.exports={container:"cb332",quartzy:"_062ce",work:"d715a"}},"7yJE":function(e,t,a){e.exports={container:"ad911",quartzy:"a425b",souvenir:"_9353f","mobile-full-width":"_60f0b",mobileFullWidth:"_60f0b",work:"_4ccab","no-bar":"_0218f",noBar:"_0218f",portrait:"cb684",premium:"_47ca5",video:"f81b6","no-hero":"c269c",noHero:"c269c","hed-block":"_159c3",hedBlock:"_159c3","has-hero":"f18a2",hasHero:"f18a2",large:"_099b9",stamp:"e27d5","series-name":"b5267",seriesName:"b5267","video-series-kicker":"_0d430",videoSeriesKicker:"_0d430"}},"8AgH":function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("lwsE"),s=a.n(r),o=a("W8MJ"),l=a.n(o),c=a("a1gu"),d=a.n(c),u=a("Nsbk"),m=a.n(u),p=a("7W2i"),f=a.n(p),g=a("PJYZ"),v=a.n(g),h=a("q1tI"),b=a.n(h),k=a("17x9"),y=a.n(k),E=a("PuT4"),S=a("blWx"),w=a("/MKj");t.a=function(e){var t=Object(S.a)(e),a=function(e){function a(e){var t;return s()(this,a),(t=d()(this,m()(a).call(this,e))).handleBulletinData=t.handleBulletinData.bind(v()(v()(t))),t.state={hasMadeAdCall:!1},t}return f()(a,e),l()(a,[{key:"handleBulletinData",value:function(e){this.setState({bulletin:e,hasMadeAdCall:!0})}},{key:"render",value:function(){var e=this.props,a=e.id,n=e.targeting,r=e.path,s=e.dataProp,o=e.children,l=e.hasAdblock,c=e.hasCheckedAdblock,d=e.waitForMarquee,u=this.state,m=u.bulletin,p=u.hasMadeAdCall,f=b.a.createElement(E.a,{path:r,id:a,key:a,onBulletinData:this.handleBulletinData,targeting:n,waitForMarquee:d}),g=b.a.createElement(t,i()({bulletin:m,dataProp:s},this.props,{key:"bulletin-".concat(a)}));return c?l?o:p?m?g:o:f:null}}]),a}(h.Component);a.propTypes={id:y.a.string.isRequired,path:y.a.string.isRequired,targeting:y.a.object.isRequired,children:y.a.element,hasAdblock:y.a.bool.isRequired,hasCheckedAdblock:y.a.bool.isRequired,dataProp:y.a.string.isRequired,waitForMarquee:y.a.bool.isRequired},a.defaultProps={targeting:{},children:null,hasAdblock:!1,hasCheckedAdblock:!1,dataProp:"article",waitForMarquee:!1};return Object(w.b)(function(e){return{hasAdblock:e.ad.hasAdblock,hasCheckedAdblock:e.ad.hasCheckedAdblock}})(a)}},"8JqY":function(e,t,a){"use strict";var n=a("J4zp"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("zSjg"),d=a("Ji1W"),u=function(e){var t=e.altText,a=e.sourceUrl,n=e.sizes,r=n.map(function(e,t){switch(t){case 0:return"".concat(e,"px");case 1:return"(min-width: 48em) ".concat(e,"px");case 2:return"(min-width: 64em) ".concat(e,"px")}}),o=n.concat(n.map(function(e){return 2*e})).sort(),l=i()(o,1)[0],u=o.map(function(e){return[e,e,1]}),m=Object(d.e)(a,l,l,1),p=Object(d.c)(a,u);return s.a.createElement(c.a,{alt:t,width:l,height:l,lazyLoad:!0,sizes:r,src:m,srcSet:p})};u.propTypes={sourceUrl:l.a.string.isRequired,altText:l.a.string.isRequired,sizes:l.a.arrayOf(l.a.number.isRequired).isRequired},u.defaultProps={sizes:[50]},t.a=u},"9GeD":function(e,t,a){"use strict";var n=a("J4zp"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("rddA"),d=function(e){return"".concat(e.replace(/\/charts\//,"/i/atlas_"),".png")},u=function(e){var t=e.url,a=e.width,n=e.height,r=t.match(/https:\/\/(www\.theatlas|atlas\.qz)\.com\/charts\/([A-Za-z0-9_-]+)(\/)?/);if(null===r)return null;var o=i()(r,3)[2];return s.a.createElement("div",{className:"atlas-embed atlas-chart","data-id":o,"data-width":a,"data-height":n,role:"text","aria-label":"Embedded chart from TheAtlas.com"},s.a.createElement("img",{src:d(t),style:{width:"100%"}}))},m=function(e){var t=e.url,a=e.width/e.height;return s.a.createElement("amp-img",{src:d(t),width:a,height:1,layout:"responsive"})};u.propTypes=m.propTypes={width:l.a.number,height:l.a.number,url:l.a.string.isRequired},u.defaultProps=m.defaultProps={width:640,height:400},t.a=Object(c.a)(m)(u)},"9mqA":function(e,t,a){e.exports={container:"_6a4ec"}},BEHi:function(e,t,a){e.exports={sidebar:"_81b22",visible:"_06156"}},BHCh:function(e,t,a){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ArticleParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blocks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"innerHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"paywalled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seoTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtype"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suppressAds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingUrls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featuredImageSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactiveSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactiveSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactiveShowHeader"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"peer39"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readNext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialImage"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"authors"},name:{kind:"Name",value:"coAuthors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"related"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playlistId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"trailerVideo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bulletin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sponsor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clientTracking"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"article"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elsewhere"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"guides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"orderby"},value:{kind:"EnumValue",value:"COUNT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"obsessions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1152}};n.loc.source={body:"#import 'fragments/AuthorParts.gql'\n#import 'fragments/ArticleTeaserParts.gql'\n\nfragment ArticleParts on Post {\n\t...ArticleTeaserParts\n\t__typename\n\tblocks {\n\t\tattributes {\n\t\t\tname\n\t\t\tvalue\n\t\t}\n\t\tinnerHtml\n\t\ttype\n\t}\n\tfootnotes\n\tlocations {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\tpaywalled\n\tslug\n\tseoTitle\n\tsocialTitle\n\tsocialDescription\n\tsubtype\n\tsuppressAds\n\ttrackingUrls\n\tfeaturedImageSize\n\tinteractiveSource\n\tinteractiveSize\n\tinteractiveShowHeader\n\tpeer39\n\treadNext\n\tsocialImage\n\tauthors:coAuthors {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...AuthorParts\n\t\t\t}\n\t\t}\n\t}\n\tvideo {\n\t\tid\n\t\tautoplay\n\t\trelated\n\t\tplaylistId\n\t\tstartTime\n\t\ttype\n\t\tendTime\n\t}\n\ttrailerVideo {\n\t\tid\n\t\ttype\n\t}\n\tbulletin {\n\t\tcampaign {\n\t\t\tid\n\t\t\tlogo\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t\tsponsor {\n\t\t\tattribution\n\t\t\tid\n\t\t\tslug\n\t\t\tname\n\t\t}\n\t\tclientTracking {\n\t\t\tarticle\n\t\t\telsewhere\n\t\t\tlogo\n\t\t}\n\t}\n\tguides {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\tname\n\t\t\t\tslug\n\t\t\t}\n\t\t}\n\t}\n\ttags(\n\t\twhere: {\n\t\t\torderby: COUNT\n\t\t},\n\t\tfirst: 50\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tslug\n\t\t\t}\n\t\t}\n\t}\n\ttopics {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tslug\n\t\t\t}\n\t\t}\n\t}\n\tobsessions {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tslug\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}n.definitions=n.definitions.concat(r(a("KNN8").definitions)),n.definitions=n.definitions.concat(r(a("DwUG").definitions)),e.exports=n},BRVZ:function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("lwsE"),s=a.n(r),o=a("W8MJ"),l=a.n(o),c=a("a1gu"),d=a.n(c),u=a("Nsbk"),m=a.n(u),p=a("7W2i"),f=a.n(p),g=a("PJYZ"),v=a.n(g),h=a("q1tI"),b=a.n(h),k=a("17x9"),y=a.n(k),E=a("/MKj"),S=a("if0O"),w=a("kOIy"),N=a("oJmH"),x=a("wIs1"),R=a("Y5b1"),q=function(e){function t(e){var a;return s()(this,t),(a=d()(this,m()(t).call(this,e))).state={el:void 0},a.onSlotRenderEnded=a.onSlotRenderEnded.bind(v()(v()(a))),a}return f()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=e.id,a=e.onClearSpotlight;document.getElementById(t)&&a(t)}},{key:"onSlotRenderEnded",value:function(e){var t=e.isEmpty,a=e.size,n=this.props,i=n.id,r=n.onRenderSpotlight,s=n.onClearSpotlight;if(!t&&a)if("spotlight"===Object(S.b)(a)){var o=document.getElementById(i);this.setState({el:o}),r(i,o)}else s(i)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.id,a=e.onClearSpotlight;"spotlight"===this.state.type&&a(t)}},{key:"render",value:function(){var e=this.props.path,t=this.state.loaded;return"article"===e?b.a.createElement(R.m,i()({onSlotRenderEnded:this.onSlotRenderEnded,loaded:t},this.props)):b.a.createElement(R.l,i()({onSlotRenderEnded:this.onSlotRenderEnded,loaded:t},this.props))}}]),t}(b.a.Component);q.propTypes={id:y.a.string.isRequired,onClearSpotlight:y.a.func.isRequired,onRenderSpotlight:y.a.func.isRequired,path:y.a.string};t.a=Object(N.compose)(x.a,Object(E.b)(void 0,function(e){return{onClearSpotlight:function(t){return e(Object(w.a)(t))},onRenderSpotlight:function(t,a){return e(Object(w.b)(t,a))}}}))(q)},Befu:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("17x9"),s=a.n(r),o=a("uLck"),l=a("taI6"),c=a.n(l),d=a("UbMB"),u=a.n(d),m=a("uKam"),p=a.n(m),f=a("5Oy7"),g=a.n(f),v=a("tgqG"),h=a.n(v),b=a("E5WG"),k=a.n(b),y=a("suN/"),E=a.n(y),S=u.a.bind(c.a),w=function(e){var t=e.appTheme,a=e.context,n=e.service,r=e.url,s=e.title;return i.a.createElement(o.a,{className:S("icon",t,a,n),rel:"email"===n?null:"noopener",target:"email"===n?null:"_blank",title:s||"Share via ".concat(n),to:r},function(e){switch(e){case"facebook":return i.a.createElement(p.a,null);case"email":return i.a.createElement(g.a,null);case"linkedin":return i.a.createElement(h.a,null);case"twitter":return i.a.createElement(k.a,null);case"whatsapp":return i.a.createElement(E.a,null);default:return null}}(n))};w.propTypes={appTheme:s.a.string.isRequired,context:s.a.string,service:s.a.string.isRequired,url:s.a.string.isRequired,title:s.a.string},w.defaultProps={context:"article"},t.a=w},CEZz:function(e,t,a){var n=a("q1tI");function i(e){return n.createElement("svg",e,n.createElement("path",{style:{fill:"var(--color-ui, #4c4c4c)"},d:"M1.777 12L8 6.022l-.023-.023L8 5.977 1.779 0 0 1.708l4.466 4.29L0 10.292z",fillRule:"evenodd"}))}i.defaultProps={width:"8",height:"12",viewBox:"0 0 8 12"},e.exports=i,i.default=i},DwGJ:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RecommendedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"recommended"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:256}};n.loc.source={body:"#import 'fragments/ArticleTeaserParts.gql'\n\nquery RecommendedQuery(\n\t$postId: Int\n\t$postsPerPage: Int\n) {\n\tposts(\n\t\tfirst: $postsPerPage\n\t\twhere: {\n\t\t\trecommended: {\n\t\t\t\tid: $postId\n\t\t\t}\n\t\t}\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...ArticleTeaserParts\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("DwUG").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),r[e.name.value]=t}}),e.exports=n,e.exports.RecommendedQuery=function(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=r[t]||new Set,i=new Set,o=new Set(n);o.size>0;){var l=o;o=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=s(e,t);n&&a.definitions.push(n)}),a}(n,"RecommendedQuery")},EEAD:function(e,t,a){e.exports={container:"b0da1",image:"_92b55"}},EhDK:function(e,t,a){e.exports={container:"_83471",loaded:"_97ba0","disable-background":"_91b83",disableBackground:"_91b83"}},F50p:function(e,t,a){e.exports={container:"_4a48d","mobile-full-width":"_544bd",mobileFullWidth:"_544bd",work:"dad1d",timestamp:"_91473","share-tools-container":"_61cca",shareToolsContainer:"_61cca","two-column-layout":"e970b",twoColumnLayout:"e970b",links:"b6d7b"}},GeSh:function(e,t,a){e.exports={container:"_0f8d2","mobile-full-width":"b003a",mobileFullWidth:"b003a",work:"b7727",large:"d538b","extra-large":"a44ba",extraLarge:"a44ba",portrait:"d8f9f",premium:"_5f579","image-container":"ae4b8",imageContainer:"ae4b8",caption:"_47c6f",credit:"fafb9"}},Ghfi:function(e,t,a){e.exports={container:"_8ef87"}},H6Cy:function(e,t,a){"use strict";var n=a("MVZn"),i=a.n(n),r=a("oJmH"),s=a("VcIu"),o=a.n(s),l=a("s8MI"),c=Object(l.c)("serieses.edges[0].node"),d=Object(l.a)(c,"series"),u=Object(l.i)("".concat("serieses.edges[0].node",".posts.edges")),m={options:function(e){return{variables:{slug:e.slug,postsPerPage:20}}},props:function(e){var t=e.ownProps,a=e.data;return i()({series:c(a),posts:u(a),ad:d(a),loading:a.loading,error:a.error},t)},selectors:{parent:c,path:"".concat("serieses.edges[0].node",".posts"),posts:u}};t.a=function(){return Object(r.graphql)(o.a,m)}},HLIg:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GalleryImageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediaItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"alt"},name:{kind:"Name",value:"altText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"caption"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"credit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"url"},name:{kind:"Name",value:"sourceUrl"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:202}};a.loc.source={body:"query GalleryImageQuery(\n\t$id: Int!\n) {\n\tmediaItems(\n\t\twhere: {\n\t\t\tid: $id\n\t\t}\n\t) {\n\t\tnodes {\n\t\t\talt: altText\n\t\t\tcaption\n\t\t\tcredit\n\t\t\tmediaDetails {\n\t\t\t\theight\n\t\t\t\twidth\n\t\t\t}\n\t\t\turl: sourceUrl\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),n[e.name.value]=t}}),e.exports=a,e.exports.GalleryImageQuery=function(e,t){var a={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var r=n[t]||new Set,s=new Set,o=new Set(r);o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var n=i(e,t);n&&a.definitions.push(n)}),a}(a,"GalleryImageQuery")},IYoo:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SeriesRecircQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id1"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id2"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"post1"},name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id1"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"post2"},name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id2"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}}]}}],loc:{start:0,end:199}};n.loc.source={body:"#import 'fragments/ArticleTeaserParts.gql'\n\nquery SeriesRecircQuery(\n\t$id1: ID!\n\t$id2: ID!\n) {\n\tpost1:post(id: $id1) {\n\t\t...ArticleTeaserParts\n\t}\n\tpost2:post(id: $id2) {\n\t\t...ArticleTeaserParts\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("DwUG").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),r[e.name.value]=t}}),e.exports=n,e.exports.SeriesRecircQuery=function(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=r[t]||new Set,i=new Set,o=new Set(n);o.size>0;){var l=o;o=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=s(e,t);n&&a.definitions.push(n)}),a}(n,"SeriesRecircQuery")},KvxP:function(e,t,a){e.exports={container:"_9f1b8",title:"_4318d",perks:"af164",perk:"_2e490","perk-title":"f9424",perkTitle:"f9424","perk-description":"_4fc9a",perkDescription:"_4fc9a",ctas:"_14f45",signup:"e66ea",email:"a5c96",login:"_49b0e"}},KzUy:function(e,t,a){e.exports={container:"_9677b",contributor:"c32bd",premium:"_547b1",work:"_3c16e",quartzy:"_9bae3",authors:"d3284",dot:"b289f",byline:"_5e088",badge:"aad81",title:"c24a9"}},Mgik:function(e,t,a){e.exports={container:"_41d5f"}},NMrH:function(e,t,a){"use strict";var n=a("FfIL"),i=(a("mg+l"),a("j40H"),a("17x9")),r=a.n(i),s=a("4kBU"),o={id:r.a.string.isRequired,guideId:r.a.number.isRequired,link:r.a.string.isRequired,count:r.a.number.isRequired,description:r.a.string.isRequired,shortDescription:r.a.string.isRequired,name:r.a.string.isRequired,slug:r.a.string.isRequired,featuredImage:r.a.shape(s.a),socialImage:r.a.shape(s.a),socialTitle:r.a.string.isRequired,colors:r.a.arrayOf(r.a.string),headerImages:r.a.arrayOf(r.a.shape({layer:r.a.number,size:r.a.string,image:r.a.shape(s.a)}))},l={id:r.a.string.isRequired,count:r.a.number.isRequired,shortDescription:r.a.string,description:r.a.string,featuredImage:r.a.shape(s.a),name:r.a.string.isRequired,slug:r.a.string.isRequired},c={articleId:r.a.number.isRequired,body:r.a.string,date:r.a.string.isRequired,id:r.a.string.isRequired,indexable:r.a.bool.isRequired,link:r.a.string,publisher:r.a.string,summary:r.a.string,thumbnail:r.a.string,title:r.a.string.isRequired},d={comment:r.a.string,date:r.a.string.isRequired,id:r.a.string.isRequired,isLikedByUser:r.a.bool,likeCount:r.a.number},u={avatar:r.a.shape({id:r.a.string,url:r.a.string}),bio:r.a.string,followerCount:r.a.number,followingCount:r.a.number,isPublisher:r.a.bool,name:r.a.string.isRequired,organization:r.a.string,title:r.a.string,userId:r.a.number},m={avatar:r.a.string,company:r.a.string,defaultCard:r.a.shape({brand:r.a.string,country:r.a.string,expMonth:r.a.number,expYear:r.a.number,last4:r.a.string}),displayName:r.a.string,displayTitle:r.a.string,email:r.a.string,firstName:r.a.string,geo:r.a.object,lastName:r.a.string,profile:r.a.string,subscriptions:r.a.arrayOf(r.a.shape({cancelAtPeriodEnd:r.a.bool,currentPeriodEnd:r.a.string,currentPeriodStart:r.a.string,id:r.a.number,plan:r.a.shape({amount:r.a.number,currency:r.a.string,customerType:r.a.string,id:r.a.number,internal:r.a.bool,interval:r.a.string,intervalCount:r.a.number,nickname:r.a.string,platform:r.a.string,trialPeriodDays:r.a.number}),status:r.a.string,trialEnd:r.a.string,trialStart:r.a.string})),title:r.a.string,userId:r.a.number};a("p/t/");a.d(t,"a",function(){return n.a}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return s.a}),a.d(t,"g",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"h",function(){return u}),a.d(t,"b",function(){return m})},O0T8:function(e,t,a){e.exports={container:"_00aab",title:"_97d77",description:"_30381",article:"_2ad49"}},PABY:function(e,t,a){"use strict";t.a={email:{text:"The Quartzy newsletter is our weekly dispatch about living well in the global economy, delivered to your inbox.",listId:3188297,showCheckbox:!0,type:"email"},instagram:{text:"Join our Quartzy community on Instagram",url:"https://www.instagram.com/quartzy/",type:"social"},facebook:{text:"Stay up-to-date with Quartzy on Facebook",url:"https://www.facebook.com/QZY/",type:"social"}}},PYYy:function(e,t,a){"use strict";t.a=["feature-private-key","feature-tipping-points","feature-consummate-consumer","feature-book-primer","feature-insider-view"]},PidD:function(e,t,a){e.exports={container:"_7663c",overlay:"b711f",loaded:"_9b39f","large-play-icon":"_2a8ca",largePlayIcon:"_2a8ca","text-button":"b6605",textButton:"b6605","small-play-icon":"_65837",smallPlayIcon:"_65837","content-wrapper":"_600b2",contentWrapper:"_600b2",button:"_0f19b",quartzy:"_5a6ce",work:"_1f925",replay:"f36b6","subscribe-text":"_1e9f1",subscribeText:"_1e9f1"}},PuT4:function(e,t,a){"use strict";var n=a("MVZn"),i=a.n(n),r=a("lwsE"),s=a.n(r),o=a("W8MJ"),l=a.n(o),c=a("a1gu"),d=a.n(c),u=a("Nsbk"),m=a.n(u),p=a("7W2i"),f=a.n(p),g=a("PJYZ"),v=a.n(g),h=a("q1tI"),b=a.n(h),k=a("17x9"),y=a.n(k),E=a("Y5b1"),S=a("9LWH"),w=function(e){function t(e){var a;s()(this,t),a=d()(this,m()(t).call(this,e));var n=e.id;return a._postMessageHandler=a._postMessageHandler.bind(v()(v()(a))),a._onSlotRenderEnded=a._onSlotRenderEnded.bind(v()(v()(a))),a._postMessageEventName="bulletin-ad-".concat(n),a}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.addMessageListener({eventHandler:this._postMessageHandler,eventName:this._postMessageEventName})}},{key:"_postMessageHandler",value:function(e){var t=e.data,a=this.props,n=a.onBulletinData;(0,a.removeMessageListener)(),n(t)}},{key:"_onSlotRenderEnded",value:function(e){var t=e.isEmpty,a=this.props,n=a.onBulletinData,i=a.removeMessageListener;t&&(i(),n(void 0))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.targeting,n=e.path,r=e.className,s=e.waitForMarquee,o=this._postMessageEventName;return b.a.createElement(E.a,{id:t,targeting:i()({},a,{eventName:o}),path:n,className:r,onSlotRenderEnded:this._onSlotRenderEnded,waitForMarquee:s})}}]),t}(h.Component);w.propTypes={id:y.a.string.isRequired,targeting:y.a.object,path:y.a.string,className:y.a.string,removeMessageListener:y.a.func.isRequired,addMessageListener:y.a.func.isRequired,onBulletinData:y.a.func.isRequired,waitForMarquee:y.a.bool};var N=Object(S.a)(w);N.propTypes={id:y.a.string.isRequired,path:y.a.string,targeting:y.a.object,className:y.a.string,waitForMarquee:y.a.bool},N.defaultProps={waitForMarquee:!1},N.displayName="BulletinAd",t.a=N},Q1G5:function(e,t,a){e.exports={container:"b105f",primary:"_1c480",secondary:"_2842b","style-side-by-side":"cf196",styleSideBySide:"cf196"}},Qp5i:function(e,t,a){"use strict";var n=a("cDf5"),i=a.n(n);t.a=function(e){var t=e.data,a=e.userData,n=e.onSuccess,r=e.onError,s=t.emailAddress,o=t.listIds,l=t.customFields,c=new FormData,d={email:s,list_id:o,custom_fields:l||{}},u={countryCode:"country_code",continentCode:"continent_code",city:"city"};for(var m in u)d.custom_fields[u[m]]=a[m]?a[m]:"";for(var p in d)if("custom_fields"===p)for(var f in d.custom_fields)c.append("custom_fields[".concat(f,"]"),d.custom_fields[f]);else if("list_id"===p&&"object"===i()(d[p])){var g=!0,v=!1,h=void 0;try{for(var b,k=o[Symbol.iterator]();!(g=(b=k.next()).done);g=!0){var y=b.value;c.append("list_id[]",y)}}catch(e){v=!0,h=e}finally{try{g||null==k.return||k.return()}finally{if(v)throw h}}}else c.append(p,d[p]);return fetch("https://cms.qz.com/wp-json/email/v1/subscribe/sendgrid",{method:"POST",body:c}).then(function(e){return e.json()}).then(function(e){if(e.data&&e.data.status>399){var t=e.data.status<500?'We were unable to sign you up for the newsletter. If you are having issues, please contact <a href="mailto:support@qz.com">support@qz.com</a> for help.':"The server is currently experiencing issues - please try again later.";throw new Error(t)}n(e)}).catch(r)}},RO4v:function(e,t,a){e.exports={container:"cb3ed",visible:"b2a68",inner:"_435a3",dark:"fd002",work:"_9bd59",quartzy:"f8ea2","context-toc":"_04251",contextToc:"_04251",selected:"_2ded5",link:"_5ff1a",dateline:"_778ba","external-link":"_49472",externalLink:"_49472",edition:"_2f309",premium:"_67588"}},SBLB:function(e,t,a){e.exports={"account-cta":"_87f3b",accountCta:"_87f3b",button:"_11e9b","login-cta":"_657df",loginCta:"_657df",quartzy:"_7e8b9",work:"_8f8db","subscribe-cta":"bf681",subscribeCta:"bf681",inactive:"bd9b2",unstyled:"_63015","context-premium-video":"f68ba",contextPremiumVideo:"f68ba"}},SEGk:function(e,t,a){e.exports={container:"e1535",quartzy:"_30ad9",work:"_86eee","hide-form":"d9aff",hideForm:"d9aff",title:"ab2b4","error-message":"_59e79",errorMessage:"_59e79","confirmation-text":"_4ad9b ab2b4",confirmationText:"_4ad9b ab2b4","context-home":"b5e3f",contextHome:"b5e3f",content:"_12c7d","context-series":"_40fd9",contextSeries:"_40fd9",email:"_2c3d9","context-series-landing":"_68cf7",contextSeriesLanding:"_68cf7",label:"c56f0","button-wrapper":"_304d2",buttonWrapper:"_304d2","context-hww-footer":"_3ed66",contextHwwFooter:"_3ed66","context-hww":"bc9f3",contextHww:"bc9f3","context-hww-2019":"_48276",contextHww2019:"_48276","context-hww-info":"ce0b1",contextHwwInfo:"ce0b1","context-email-landing":"b0b1f",contextEmailLanding:"b0b1f","context-single-email":"c76ca",contextSingleEmail:"c76ca"}},SoZO:function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("lSNA"),s=a.n(r),o=a("q1tI"),l=a.n(o),c=a("17x9"),d=a.n(c),u=a("oJmH"),m=a("FfIL"),p=a("p/t/"),f=a("N8Go"),g=a("J4zp"),v=a.n(g),h=a("zSjg"),b=a("Ji1W"),k=a("/csJ"),y=a.n(k),E=a("UbMB"),S=a.n(E),w=a("L7YX"),N=S.a.bind(y.a),x={small:["(min-width: 48em) 80px","50px"],medium:["(min-width: 64em) 220px","(min-width: 48em) 150px","125px"]},R={small:[50,80,100,160],medium:[125,150,250,300,440]},q=function(e){var t=e.appTheme,a=e.image,n=e.aspectRatio,i=e.isSouvenir,r=e.isPremium,o=e.size;if(!a)return null;var c=a.altText,d=a.sourceUrl,u=R[o],m=v()(u,1)[0],p=u.map(function(e){return n>1?[Math.round(e/n),e,1]:[e,Math.round(e*n),1]}),f=Object(b.e)(d,m,Math.round(m*n),1),g=m,k=m*n,y=Object(b.c)(d,p);return l.a.createElement("figure",{className:N("container",t,s()({polaroid:i,premium:r},"size-".concat(o),o))},l.a.createElement(h.a,{width:g,height:k,alt:c,className:N("placeholder",t,{polaroid:i}),lazyLoad:!0,sizes:x[o],src:f,srcSet:y}))};q.propTypes={appTheme:d.a.string.isRequired,aspectRatio:d.a.number,image:m.a.featuredImage,isPremium:d.a.bool.isRequired,isSouvenir:d.a.bool,size:d.a.oneOf(["small","medium"]).isRequired},q.defaultProps={aspectRatio:1,isPremium:!1,isSouvenir:!1,size:"medium"};var T=Object(w.a)()(q),O=a("+8XG"),_=a("RO4v"),P=a.n(_),j=a("QsmG"),F=a("Km1T"),I=a("uLck"),C=a("CxRL"),D=a("FLc/"),M=a("4yYl"),A=a.n(M),L=S.a.bind(A.a),B=function(e){var t=e.kicker,a=e.ordinal,n=e.sponsorName,i=n?l.a.createElement(D.a,{sponsor:n}):l.a.createElement(C.a,{text:t});return a?l.a.createElement("div",{className:L("kicker")},l.a.createElement("span",{className:L("ordinal")},a),i):i};B.propTypes={sponsorName:d.a.string,kicker:d.a.string,ordinal:d.a.string};var z=B,V=a("PIce"),H=S.a.bind(P.a),U=function(e){var t=e.appTheme,a=e.colorScheme,n=e.context,r=e.element,o=e.hasDeterminedInitialVisibility,c=e.onClick,d=e.ordinal,u=e.selected,m=e.setRef,p=e.size,g=e.showEdition,v=e.urlParams,h=e.visible,b=r.bulletin,k=r.edition,y=r.featuredImage,E=r.kicker,S=r.link,w=r.premium,N=r.title,x="small"===p,R=b?"nofollow":null,q=Object(O.j)(v),_=r.tags&&r.tags.some(function(e){return"qzysouvenirs"===e.slug}),P=_?1:1.2,j={appTheme:"quartz",image:y,visible:o&&h};"quartzy"===t&&Object.assign(j,{appTheme:t,aspectRatio:P,isSouvenir:_});var F=w?"Member exclusive":k?k.name:null,C=g?l.a.createElement("span",{className:H("edition",t,{premium:w})},F):!Object(I.b)(S)&&l.a.createElement("span",{className:H("external-link",t)},"View page");return l.a.createElement("article",{className:H("container",s()({visible:h,premium:w,selected:u},"context-".concat(n),n)),ref:m},l.a.createElement("div",{className:H("inner",t,a,s()({},"context-".concat(n),n))},l.a.createElement(I.a,{to:"".concat(S).concat(q),className:H("link"),onClick:c,rel:R},l.a.createElement(T,i()({isPremium:w,size:p},j)),l.a.createElement("div",{className:H("meta")},l.a.createElement(z,{kicker:E,ordinal:d,sponsorName:Object(V.e)(b,"sponsor.name")}),l.a.createElement(f.a,{text:N,context:n,tagName:"h3"}),!x&&l.a.createElement("div",{className:H("dateline",t,a)},C)))))};U.propTypes={appTheme:d.a.string.isRequired,colorScheme:d.a.string.isRequired,element:d.a.oneOfType([d.a.shape(m.a),d.a.shape(p.a)]).isRequired,showEdition:d.a.bool,hasDeterminedInitialVisibility:d.a.bool.isRequired,onClick:d.a.func.isRequired,urlParams:d.a.object.isRequired,visible:d.a.bool.isRequired,setRef:d.a.func,size:d.a.oneOf(["small","medium"]).isRequired},U.defaultProps={onClick:function(){},urlParams:{},showEdition:!0,context:"list",size:"medium"};t.a=Object(u.compose)(Object(j.a)("element.id"),Object(w.a)(["colorScheme"]),Object(F.a)({initialVisibility:!0,threshold:.05,shouldUpdate:function(e,t){return e.element.id!==t.element.id}}))(U)},T8Nn:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ArticleQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"serieses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SeriesParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"projects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProjectParts"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:323}};n.loc.source={body:"#import 'fragments/ArticleParts.gql'\n#import 'fragments/SeriesParts.gql'\n#import 'fragments/ProjectParts.gql'\n\nquery ArticleQuery($id: ID!) {\n\tpost(id: $id) {\n\t\t...ArticleParts\n\t\tserieses {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\t...SeriesParts\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprojects {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\t...ProjectParts\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}n.definitions=n.definitions.concat(r(a("BHCh").definitions)),n.definitions=n.definitions.concat(r(a("+jN/").definitions)),n.definitions=n.definitions.concat(r(a("59WU").definitions));var s={};function o(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),s[e.name.value]=t}}),e.exports=n,e.exports.ArticleQuery=function(e,t){var a={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=s[t]||new Set,i=new Set,r=new Set(n);r.size>0;){var l=r;r=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(s[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var n=o(e,t);n&&a.definitions.push(n)}),a}(n,"ArticleQuery")},TG3k:function(e,t,a){e.exports={container:"_86cf9",large:"_7cfb4","two-column-layout":"cf096",twoColumnLayout:"cf096","extra-large":"_7ef8c",extraLarge:"_7ef8c",frame:"_3304f","can-fix":"f38ef",canFix:"f38ef",fixed:"_79772","fixed-bottom":"_0dd16",fixedBottom:"_0dd16"}},Uukh:function(e,t,a){e.exports={container:"f7c0c",kicker:"_85681",quartzy:"cecb3",work:"_9554c",link:"f7de1","headline-container":"_89d9a",headlineContainer:"_89d9a",headline:"_345af",summary:"d71a6"}},"VM/u":function(e,t,a){"use strict";a.d(t,"c",function(){return q}),a.d(t,"a",function(){return x}),a.d(t,"b",function(){return R});var n=a("lSNA"),i=a.n(n),r=a("pVnL"),s=a.n(r),o=a("lwsE"),l=a.n(o),c=a("W8MJ"),d=a.n(c),u=a("a1gu"),m=a.n(u),p=a("Nsbk"),f=a.n(p),g=a("7W2i"),v=a.n(g),h=a("PJYZ"),b=a.n(h),k=a("q1tI"),y=a.n(k),E=a("17x9"),S=a.n(E),w=a("PIce"),N=function(e){var t=e.elementName,a=e.elementAdName;return function(e){var n=function(n){function i(e){var t;return l()(this,i),(t=m()(this,f()(i).call(this,e))).onClick=t.onClick.bind(b()(b()(t))),t}return v()(i,n),d()(i,[{key:"onClick",value:function(){var e=this.getTracking();Object(w.j)(e.clickThroughUrl)}},{key:"getTracking",value:function(){return Object(w.e)(this.props,"".concat(t,".").concat(a,".clientTracking"),{})}},{key:"componentDidMount",value:function(){var e=this.getTracking(),t=e.elsewhere;Object(w.j)(e.viewImpressionUrl),t.forEach(function(e){Object(w.j)(e)})}},{key:"render",value:function(){return y.a.createElement(e,s()({},this.props,{onClick:this.onClick}))}}]),i}(y.a.Component);return n.propTypes=i()({},t,S.a.shape(i()({},a,S.a.shape({clientTracking:S.a.shape({elsewhere:S.a.array})}))).isRequired),n}},x=N({elementName:"article",elementAdName:"bulletin"}),R=N({elementName:"chapter",elementAdName:"sponsor"}),q=N({elementName:"obsession",elementAdName:"sponsor"})},VOD3:function(e,t,a){e.exports={container:"b18b1",work:"_9fdf5",quartzy:"_3290a",premium:"_8dc49"}},VZEo:function(e,t,a){e.exports={container:"b2ed1",note:"_35979",show:"c55df",number:"_9583a",text:"_8af66"}},VcIu:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SeriesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"serieses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SeriesParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:400}};n.loc.source={body:"#import 'fragments/ArticleTeaserParts.gql'\n#import 'fragments/SeriesParts.gql'\n\nquery SeriesQuery(\n\t$after: String = \"\"\n\t$slug: [String]\n\t$postsPerPage: Int\n) {\n\tserieses(\n\t\twhere: {\n\t\t\tslug: $slug\n\t\t}\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...SeriesParts\n\t\t\t\tposts(\n\t\t\t\t\tfirst: $postsPerPage\n\t\t\t\t\tafter: $after\n\t\t\t\t) {\n\t\t\t\t\tedges {\n\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t...ArticleTeaserParts\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}n.definitions=n.definitions.concat(r(a("DwUG").definitions)),n.definitions=n.definitions.concat(r(a("+jN/").definitions));var s={};function o(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),s[e.name.value]=t}}),e.exports=n,e.exports.SeriesQuery=function(e,t){var a={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=s[t]||new Set,i=new Set,r=new Set(n);r.size>0;){var l=r;r=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(s[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var n=o(e,t);n&&a.definitions.push(n)}),a}(n,"SeriesQuery")},W4mn:function(e,t,a){e.exports={container:"b39c2",work:"e4509","alt-background":"_7b86b",altBackground:"_7b86b",feed:"_4450d",dark:"b0c7e",quartzy:"_405c1","mobile-full-width":"_4ca30",mobileFullWidth:"_4ca30",title:"_3e112",border:"ebee5"}},Xh73:function(e,t,a){"use strict";var n=a("+8XG"),i=a("vgG7"),r=a("PYYy");t.a=function(e){var t=e.location,a=e.userHasPermission,s=e.article;if(!s)return{};var o=s.bulletin,l=s.featuredImage,c=s.featuredImageSize,d=s.guide,u=s.id,m=s.interactive,p=s.paywalled,f=s.premium,g=s.series,v=s.subtype,h=s.tags,b=s.video,k=!!o,y=!(!g||!g.slug),E=h.some(function(e){return r.a.includes(e.slug)}),S=!(!d||!d.slug),w=a(i.j),N=Object(n.h)(t.pathname),x=p&&!a(i.m,u),R=!("video"!==v||!b),q=!("interactive"!==v||!m),T=h&&h.some(function(e){return"qzysouvenirs"===e.slug}),O=h&&h.some(function(e){return"work-guides"===e.slug}),_=x&&a(i.q);return{isApp:N,isBulletin:k,isFeature:E,isGuide:S,isInteractive:q,isLoggedIn:w,isPaywalled:x,isPremium:f,isSeries:y,isSouvenir:T,isVideo:R,isWorkGuide:O,showCTAExperiment:x&&a(i.h),showEmailExchangeCTA:_,showFooter:!N&&!x,showHeader:!q||q&&!0===m.showHeader,showHero:!q&&!(null===l||"hidden"===c),showLogin:!w&&!N,showRecirc:!N&&!x,showSidebar:!q&&!f}}},XxBT:function(e,t,a){e.exports={player:"_21b85"}},Xzwb:function(e,t,a){e.exports={container:"_753e3",kicker:"_39173",title:"_204b4",domain:"_7d6fd"}},Yw0A:function(e,t,a){"use strict";var n=a("lwsE"),i=a.n(n),r=a("W8MJ"),s=a.n(r),o=a("a1gu"),l=a.n(o),c=a("Nsbk"),d=a.n(c),u=a("7W2i"),m=a.n(u),p=a("q1tI"),f=a("17x9"),g=a.n(f),v=a("rddA"),h=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={selectedComponent:a.props.amp?a.getRandomChild():null},a}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.setState({selectedComponent:this.getRandomChild()})}},{key:"getRandomChild",value:function(){var e=this.props,t=e.children;return(0,e.randomizer)(p.Children.toArray(t))}},{key:"render",value:function(){return this.state.selectedComponent}}]),t}(p.Component);h.propTypes={randomizer:g.a.func,children:g.a.node,amp:g.a.bool.isRequired},h.defaultProps={randomizer:function(e){var t=Math.floor(Math.random()*e.length);return e[t]?e[t]:null},children:null},t.a=Object(v.a)()(h)},ZMrp:function(e,t,a){e.exports={container:"cc784"}},ZcFT:function(e,t,a){"use strict";var n=a("lSNA"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("oJmH"),d=a("sZ2C"),u=a("Q1G5"),m=a.n(u),p=a("UbMB"),f=a.n(p),g=a("luTm"),v=a("vgG7"),h=f.a.bind(m.a),b=function(e){var t=e.isMember,a=e.style;return t?null:s.a.createElement("div",{className:h("container",i()({},"style-".concat(a),a))},s.a.createElement("div",{className:h("primary",i()({},"style-".concat(a),a))},s.a.createElement(d.d,{trackingContext:"member page"})),s.a.createElement("div",{className:h("secondary",i()({},"style-".concat(a),a))},s.a.createElement(d.a,{trackingContext:"member page"})))};b.propTypes={isMember:l.a.bool.isRequired,style:l.a.oneOf(["side-by-side"])},t.a=Object(c.compose)(Object(g.A)(),Object(g.t)(function(e){return{isMember:(0,e.userHasPermission)(v.a)}}))(b)},aVQ9:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("17x9"),s=a.n(r),o=a("KzUy"),l=a.n(o),c=a("UbMB"),d=a.n(c),u=a("L7YX"),m=a("uLck"),p=a("WGRf"),f=a("05WB"),g=a("lq+O"),v=a("FfIL"),h=d.a.bind(l.a),b=function(e){var t=e.appTheme,a=e.authors,n=e.authorLocation,r=e.bulletin,s=e.dateGmt,o=e.isPremium,l=e.guide,c=1===a.length&&"guest-author"===a[0].type,d=l&&l.name?i.a.createElement("span",null," for ",i.a.createElement(m.a,{to:"/guide/".concat(l.slug,"/")},l.name)):null,u=i.a.createElement(f.a,{dateGmt:s}),v=o?"Member exclusive by":"By",b=null,k=null;if(c&&(k=i.a.createElement("h4",{className:h("title",t,{premium:o})},a[0].title),a[0].avatar)){b=i.a.createElement("div",{className:h("badge",t)},i.a.createElement(g.a,{alt:a[0].name,src:a[0].avatar,aspectRatio:1,sources:[{breakpoint:"phone-only",width:40}]}))}return i.a.createElement("div",{className:h("container",t,{contributor:c,premium:o})},b,i.a.createElement("div",{className:h("byline",t,{premium:o})},a.length?i.a.createElement("span",{className:h("authors",t)},r?"By ".concat(a[0].name):i.a.createElement(p.a,{prefix:v,authors:a,authorLocation:n}),d||i.a.createElement("span",{className:h("date","dot")},u)):i.a.createElement("span",{className:h("date")},u),k))},k=v.a.authors,y=v.a.authorLocation,E=v.a.bulletin,S=v.a.dateGmt,w=v.a.guide;b.propTypes={appTheme:s.a.string.isRequired,authorLocation:y,authors:k,bulletin:E,dateGmt:S,guide:w,isPremium:s.a.bool.isRequired},b.defaultProps={isPremium:!1},t.a=Object(u.a)()(b)},bQ0P:function(e,t,a){e.exports={p:"a1dbe","align-center":"_7a669",alignCenter:"_7a669","align-right":"d5290",alignRight:"d5290",h2:"_7d6a7",h3:"a83d8",h4:"_2dc27",h5:"_2c593",h6:"_71de0",blockquote:"_9f6a5",ol:"_6a0f6",ul:"_487dc",h1:"_0ed2e",pre:"d2f4e",quartzya:"_77390",quartzy:"d0e40",work:"_9c220",guide:"_93dd5",table:"c188c","multi-column":"_30df8",multiColumn:"_30df8"}},blWx:function(e,t,a){"use strict";var n=a("MVZn"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("oJmH"),d=a("T8Nn"),u=a.n(d),m=a("XmzS"),p=a("VM/u"),f=Object(c.graphql)(u.a,{options:function(e){return{variables:{id:e.bulletin.id}}},props:function(e){var t=e.ownProps,a=e.data,n=a.loading,r=a.error,s=a.post,o=s?Object(m.a)(s):{},l={};return o.bulletin&&((l=i()({},o.bulletin)).clientTracking=i()({},o.bulletin.clientTracking,t.bulletin)),{article:i()({},o,{bulletin:l}),loading:n,error:r,ownProps:t}}});t.a=Object(c.compose)(f,function(e){var t=function(t){var a=t.loading,n=t.article,r=t.error,o=t.dataProp,l=t.ownProps;if(a||r)return null;var c=i()({article:n},l);return c[o]=n,s.a.createElement(e,c)};return t.propTypes={loading:l.a.bool.isRequired,article:l.a.object,error:l.a.object,ownProps:l.a.object,dataProp:l.a.string},t.defaultProps={dataProp:"article"},t},p.a)},bxQx:function(e,t,a){"use strict";a.r(t);var n=a("MVZn"),i=a.n(n),r=a("xP/g"),s=a("oJmH"),o=a("DEKx"),l=a("T8Nn"),c=a.n(l),d=a("peh1"),u=a("XmzS"),m=a("Xh73"),p=a("FFHB"),f=a("luTm"),g=Object(d.createSelector)(function(e){return e.post},function(e){return e?Object(u.a)(e):{}}),v={options:function(e){return{variables:{id:Object(o.b)("post",e.match.params.postId)}}},props:function(e){var t=e.ownProps,a=e.data;if(a.loading)return{loading:a.loading};var n=g(a),r=t.location,s=t.userHasPermission,o=Object(m.a)({article:n,location:r,userHasPermission:s});return i()({article:n,qualifiers:o,loading:a.loading,error:a.error},t)}};t.default=Object(s.compose)(Object(f.v)({colorScheme:"none"}),Object(f.A)(),Object(s.graphql)(c.a,v),Object(f.h)(function(e){var t=e.appTheme,a=e.match,n=e.location,i=e.qualifiers,r={expiry:259200,keys:["post","post-".concat(t),"post-".concat(a.params.postId)]};return Object(p.b)(n.pathname)&&r.keys.push("post-amp"),i&&i.isSeries&&r.keys.push("series","series-article"),i&&i.isPremium&&r.keys.push("member","member-article"),r}),Object(f.k)(),Object(f.f)())(r.a)},dCHr:function(e,t,a){"use strict";var n=a("MVZn"),i=a.n(n),r=a("oJmH"),s=a("5yKF"),o=a.n(s),l=a("s8MI"),c=Object(l.c)("guides.edges[0].node"),d=Object(l.a)(c,"guide"),u=Object(l.i)("".concat("guides.edges[0].node",".posts.edges")),m={options:function(e){return{variables:{slug:e.slug,postsPerPage:20}}},props:function(e){var t=e.ownProps,a=e.data;return i()({guide:c(a),posts:u(a),ad:d(a),loading:a.loading,error:a.error},t)},selectors:{parent:c,path:"".concat("guides.edges[0].node",".posts"),posts:u}};t.a=function(){return Object(r.graphql)(o.a,m)}},dzcC:function(e,t,a){e.exports={image:"_6c4f3",title:"_2b1b5",work:"_18a41",quartzy:"_0227a",content:"c2abd","context-home":"b3a02",contextHome:"b3a02",button:"edaaa"}},eZVL:function(e,t,a){"use strict";var n=a("FfIL"),i=a("q1tI"),r=a.n(i),s=a("17x9"),o=a.n(s),l=a("Befu"),c=a("fxAE"),d=a("Sbvt"),u=a("+8XG"),m=function(e){var t=e.appTheme,a=e.author,n=e.context,i=e.description,s=e.excerpt,o=e.services,m=e.title,p=e.url,f="bulletin"===n,g=Object(d.c)(t),v=g.twitterName,h=g.title,b=Object(c.a)(t).subscription,k=encodeURIComponent(Object(u.f)(p)),y=encodeURIComponent(m),E=encodeURIComponent(p),S=f?"QuartzCreative":encodeURIComponent(v);return o.map(function(e){return r.a.createElement(l.a,{appTheme:t,context:n,key:e,service:e,url:function(e){var t="";switch(e){case"email":var n=encodeURIComponent("".concat(h,": "));t="mailto:?subject=".concat(n).concat(y,"&body=").concat(E),s&&(t+=encodeURIComponent("\n\n".concat(s))),b&&(t+=encodeURIComponent("\n\n".concat(b.name,": ").concat(b.url)));break;case"facebook":t="https://www.facebook.com/sharer.php?u=".concat(E,"&caption=qz.com"),a&&(t+=encodeURIComponent(" | By ".concat(a)));break;case"linkedin":t="https://www.linkedin.com/shareArticle?mini=true&url=".concat(E,"&title=").concat(y),i&&(t+="&summary=".concat(encodeURIComponent(i)));break;case"twitter":t="https://twitter.com/intent/tweet?url=".concat(k,"&text=").concat(y,"&via=").concat(S);break;case"whatsapp":t="whatsapp://send?text=From%20".concat(h,"%3A%20").concat(m,"+").concat(p)}return t}(e)})})};m.propTypes={appTheme:o.a.string.isRequired,author:o.a.string,context:o.a.string.isRequired,description:o.a.string,excerpt:o.a.string,services:o.a.arrayOf(o.a.string).isRequired,title:o.a.string.isRequired,url:o.a.string.isRequired},l.a.defaultProps={context:"article"};var p=m,f=a("vH67"),g=a.n(f),v=["twitter","facebook","linkedin","email","whatsapp"],h=function(e){var t=e.appTheme,a=e.author,n=e.context,i=e.description,s=e.excerpt,o=e.title,l=e.url;return r.a.createElement("div",{className:g.a.container},r.a.createElement(p,{appTheme:t,author:a,context:n,description:i,excerpt:s,services:v,title:o,url:l}))};h.propTypes={appTheme:o.a.string.isRequired,author:o.a.string,context:o.a.string,description:o.a.string,excerpt:o.a.string,title:o.a.string.isRequired,url:o.a.string.isRequired},h.defaultProps={appTheme:"quartz"};var b=h,k=a("UbMB"),y=a.n(k),E=a("gkHA"),S=a("fQJp"),w=a.n(S),N=a("L7YX"),x=y.a.bind(w.a),R=function(e){var t=e.appTheme,a=e.author,n=e.children,i=e.context,s=e.description,o=e.excerpt,l=e.link,c=e.title;return r.a.createElement("div",{className:x("container")},r.a.createElement(b,{appTheme:t,author:a,context:i,description:s,excerpt:o,title:c,url:l}),n,r.a.createElement("div",{className:x("input",t)},r.a.createElement(E.e,{id:"article-short-url",value:Object(u.f)(l),handleClick:function(e){return e.target.select()},readOnly:!0,type:"text"})))};R.propTypes={appTheme:o.a.string.isRequired,author:o.a.string.isRequired,children:o.a.node,context:o.a.string.isRequired,description:o.a.string,excerpt:n.a.excerpt,link:n.a.link,title:n.a.title};t.a=Object(N.a)()(R)},fCYb:function(e,t,a){e.exports={container:"a9fd0",actions:"_52f37","context-my-account-general":"c8e60",contextMyAccountGeneral:"c8e60","context-change-billing":"_6567d",contextChangeBilling:"_6567d","context-change-plan":"_3c085",contextChangePlan:"_3c085",error:"_58911",subtext:"_704c6"}},fQJp:function(e,t,a){e.exports={container:"_3b7f8",input:"_67c83",quartzy:"bc8b5"}},g6MR:function(e,t,a){e.exports={container:"f8ed1",visible:"_8c925","inner-container":"_1f5be",innerContainer:"_1f5be","mobile-full-width":"_3ec81",mobileFullWidth:"_3ec81",work:"_05c94","primary-text":"_3a1a0",primaryText:"_3a1a0","secondary-text":"e89c4",secondaryText:"e89c4",close:"_00a21",label:"_6011e"}},gkHA:function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("MVZn"),s=a.n(r),o=a("lSNA"),l=a.n(o),c=a("lwsE"),d=a.n(c),u=a("W8MJ"),m=a.n(u),p=a("a1gu"),f=a.n(p),g=a("Nsbk"),v=a.n(g),h=a("7W2i"),b=a.n(h),k=a("PJYZ"),y=a.n(k),E=a("q1tI"),S=a.n(E),w=a("oJmH"),N=a("17x9"),x=a.n(N),R=a("cqrB"),q=a("0E4w"),T=a.n(q),O=a("UbMB"),_=a.n(O),P=a("PHoY"),j=a("luTm"),F=function(){return function(e){var t=function(t){function a(e){var t;return d()(this,a),(t=f()(this,v()(a).call(this,e))).state={type:e.type,toggleText:"show",toggleActive:!1},t.toggleInputType=t.toggleInputType.bind(y()(y()(t))),t}return b()(a,t),m()(a,[{key:"toggleInputType",value:function(e){e.preventDefault(),"password"===this.state.type?this.setState({type:"text",toggleText:"hide",toggleActive:!0}):this.setState({type:"password",toggleText:"show",toggleActive:!1})}},{key:"render",value:function(){var t=this.state,a=t.toggleText,n=t.type,r=t.toggleActive;return S.a.createElement(e,i()({},this.props,{toggleText:a,handleToggleClick:this.toggleInputType,toggleActive:r,type:n}))}}]),a}(E.Component);return t.propTypes={type:x.a.string},t}};a.d(t,"b",function(){return M}),a.d(t,"a",function(){return A}),a.d(t,"c",function(){return L}),a.d(t,"d",function(){return B});var I=_.a.bind(T.a),C=function(e){function t(e){var a;return d()(this,t),(a=f()(this,v()(t).call(this,e))).handleChange=a.handleChange.bind(y()(y()(a))),a}return b()(t,e),m()(t,[{key:"handleChange",value:function(e){this.props.handleChange(e.target.value)}},{key:"render",value:function(){var e,t,a,n=this.props,r=n.appTheme,o=n.autoComplete,c=n.context,d=n.handleBlur,u=n.handleClick,m=n.handleFocus,p=n.handleKeyPress,f=n.handleToggleClick,g=n.id,v=n.isMultiline,h=n.label,b=n.maxLength,k=n.name,y=n.placeholder,E=n.readOnly,w=n.status,N=n.subtext,x=n.toggleActive,q=n.toggleText,T=n.type,O=n.updated,_=n.value,P="".concat(g,"-description"),j={autoComplete:o,id:g,maxLength:b,name:k,placeholder:y,readOnly:E,value:_,"aria-describedby":N?P:void 0,onBlur:d,onChange:this.handleChange,onClick:u,onFocus:m,onKeyPress:p},F=(e={readOnly:E},l()(e,"context-".concat(c),c),l()(e,"status-".concat(w),w),l()(e,r,r),l()(e,T,T),e);return S.a.createElement("div",{className:I("container",(t={},l()(t,"status-".concat(w),w),l()(t,"context-".concat(c),c),t))},S.a.createElement("div",{className:I("inner",l()({toggleVisibility:q},"context-".concat(c),c))},O&&S.a.createElement("div",{className:I("confirmation")},"Updated"),h&&S.a.createElement("label",{className:I("label"),htmlFor:g},h),v?S.a.createElement("textarea",i()({className:I("textarea",s()({},F)),rows:6},j)):S.a.createElement("input",i()({className:I("input",s()({},F)),type:T},j)),q&&f&&S.a.createElement("button",{"aria-checked":x,"aria-label":"Toggle password visibility",className:I("toggle"),onClick:f,role:"switch",type:"button"},q),"loading"===w&&S.a.createElement("div",{className:I("spinner")},S.a.createElement(R.a,{color:"light"}))),N&&S.a.createElement("div",{id:P,className:I("subtext",(a={},l()(a,"status-".concat(w),w),l()(a,"context-".concat(c),c),a))},N))}}]),t}(S.a.Component);C.propTypes={appTheme:x.a.string.isRequired,autoComplete:x.a.string,context:x.a.string,handleBlur:x.a.func,handleChange:x.a.func,handleClick:x.a.func,handleFocus:x.a.func,handleKeyPress:x.a.func,id:x.a.string.isRequired,isMultiline:x.a.bool.isRequired,name:x.a.string,label:x.a.string,placeholder:x.a.string,maxLength:x.a.number,readOnly:x.a.bool,status:x.a.string,subtext:x.a.node,type:x.a.oneOf(["text","email","password"]),toggleActive:x.a.bool,toggleText:x.a.string,handleToggleClick:x.a.func,updated:x.a.bool,value:x.a.oneOfType([x.a.string,x.a.number])},C.defaultProps={handleBlur:function(){},handleFocus:function(){},isMultiline:!1,type:"text"};var D=Object(w.compose)(Object(j.x)(),Object(j.y)({handleFocus:P.m}))(C),M=(t.e=D,Object(w.compose)(Object(j.l)())(D)),A=Object(w.compose)(Object(j.t)({type:"email"}),Object(j.a)({placeholder:"Email address"}))(M),L=Object(w.compose)(Object(j.t)({type:"password"}),Object(j.a)({placeholder:"Enter a new password",maxLength:64}),F())(M),B=Object(w.compose)(Object(j.t)({isMultiline:!0}))(M)},glml:function(e,t,a){var n=a("q1tI");function i(e){return n.createElement("svg",e,n.createElement("g",{fill:"#A5A5A5",fillRule:"evenodd"},[n.createElement("path",{d:"M5 0h2v8H5z",style:{fill:"var(--color-ui,000)"},key:0}),n.createElement("path",{d:"M6 7.828l4.243-4.242L11.657 5 7.414 9.243 6 10.657.343 5l1.414-1.414L6 7.828z",style:{fill:"var(--color-ui,000)"},key:1})]))}i.defaultProps={width:"12",height:"11",viewBox:"0 0 12 11"},e.exports=i,i.default=i},j40H:function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n),r=a("FfIL");t.a={articles:i.a.arrayOf(i.a.shape(r.a)).isRequired,title:i.a.element,midArticle:i.a.arrayOf(i.a.shape(r.a)).isRequired}},"j6H/":function(e,t,a){e.exports={container:"_8e443",quartzy:"_4740d"}},"jL+i":function(e,t,a){e.exports={container:"_8f4a8",quartzy:"c34da",work:"_07da2",premium:"d721e"}},ln3U:function(e,t,a){e.exports={container:"_17123","mobile-full-width":"_0dd83",mobileFullWidth:"_0dd83",work:"_89f7d","two-column-layout":"_1df12",twoColumnLayout:"_1df12",inner:"_8fc32","context-end-of-article":"e94e0",contextEndOfArticle:"e94e0"}},"lq+O":function(e,t,a){"use strict";var n=a("J4zp"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("zSjg"),d=a("Ji1W"),u=function(e){var t=e.src,a=e.alt,n=e.aspectRatio,r=e.crop,o=e.sources,l=e.lazyLoad,u=e.className,m=[],p=[];o.forEach(function(e){var a=e.width,i=e.breakpoint;m.push(Object(d.b)(t,[a,Math.round(a/n),r])),p.push("phone-only"===i?"".concat(a,"px"):"".concat(d.a[i].media," ").concat(a,"px"))}),p.reverse();var f=i()(o,1)[0].width,g=Math.round(f/n),v=Object(d.e)(t,f,g,r);return s.a.createElement(c.a,{width:f,height:g,src:v,alt:a,srcSet:m,sizes:p,lazyLoad:l,className:u})};u.propTypes={src:l.a.string.isRequired,alt:l.a.string.isRequired,aspectRatio:l.a.number.isRequired,crop:l.a.bool,sources:l.a.arrayOf(l.a.shape({breakpoint:l.a.oneOf(Object.keys(d.a)).isRequired,width:l.a.number.isRequired})).isRequired,lazyLoad:l.a.bool,className:l.a.string},u.defaultProps={crop:!0,lazyLoad:!1},t.a=u},"mg+l":function(e,t,a){"use strict";var n=a("17x9"),i=a.n(n);t.a={id:i.a.string.isRequired,date:i.a.string.isRequired,dateGmt:i.a.string.isRequired,kicker:i.a.string,link:i.a.string.isRequired,postId:i.a.number.isRequired,title:i.a.string.isRequired,featuredImage:i.a.shape({id:i.a.string,sourceUrl:i.a.string,title:i.a.string,altText:i.a.string,caption:i.a.string,credit:i.a.string,mediaDetails:i.a.shape({width:i.a.number,height:i.a.number})}),tags:i.a.arrayOf(i.a.shape({slug:i.a.string,name:i.a.string})).isRequired,flags:i.a.arrayOf(i.a.shape({slug:i.a.string,name:i.a.string})),premium:i.a.bool,summary:i.a.string.isRequired,bulletin:i.a.shape({sponsor:i.a.shape({name:i.a.string.isRequired}).isRequired,campaign:i.a.shape({logo:i.a.string,logoLink:i.a.string}).isRequired,clientTracking:i.a.shape({article:i.a.array.isRequired}).isRequired,subtype:i.a.string}),authors:i.a.arrayOf(i.a.shape({avatar:i.a.string,id:i.a.string,name:i.a.string.isRequired,title:i.a.string,username:i.a.string.isRequired}))}},oubA:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PopularQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"edition"}},type:{kind:"NamedType",name:{kind:"Name",value:"EditionName"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"postsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"popular"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"edition"},value:{kind:"Variable",name:{kind:"Name",value:"edition"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ArticleTeaserParts"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:308}};n.loc.source={body:"#import 'fragments/ArticleTeaserParts.gql'\n\nquery PopularQuery(\n\t$edition: EditionName\n\t$postsPerPage: Int\n) {\n\tposts(\n\t\tfirst: $postsPerPage\n\t\twhere: {\n\t\t\tpopular: {\n\t\t\t\tedition: $edition\n\t\t\t}\n\t\t}\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...ArticleTeaserParts\n\t\t\t}\n\t\t}\n\t\tpageInfo {\n\t\t\thasNextPage\n\t\t\tendCursor\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("DwUG").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),r[e.name.value]=t}}),e.exports=n,e.exports.PopularQuery=function(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=r[t]||new Set,i=new Set,o=new Set(n);o.size>0;){var l=o;o=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=s(e,t);n&&a.definitions.push(n)}),a}(n,"PopularQuery")},"p/t/":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return o});var n=a("17x9"),i=a.n(n),r=a("FfIL"),s={title:i.a.string.isRequired,dateGmt:i.a.string.isRequired,link:i.a.string.isRequired,featuredImage:r.a.featuredImage,bulletin:i.a.shape({sponsor:i.a.shape({name:i.a.string.isRequired}).isRequired,campaign:i.a.shape({id:i.a.string.isRequired}).isRequired,clientTracking:i.a.shape({elsewhere:i.a.array,logo:i.a.string})})},o={name:i.a.string.isRequired,campaign:i.a.shape({id:i.a.string.isRequired,logo:i.a.string}).isRequired}},prrw:function(e,t,a){e.exports={container:"_5cea4"}},pzzP:function(e,t,a){e.exports={video:"_85ac6","mobile-full-width":"d5ba1",mobileFullWidth:"d5ba1",work:"_62f2f"}},qN82:function(e,t,a){e.exports={container:"f58a8","has-error":"_4c9b0",hasError:"_4c9b0",work:"dfeae",quartzy:"_14106",large:"_1894c","context-single-email":"_568b0",contextSingleEmail:"_568b0"}},qnZg:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("17x9"),s=a.n(r),o=a("oJmH"),l=a("PHoY"),c=a("luTm"),d=a("UbMB"),u=a.n(d),m=a("w93d"),p=a.n(m),f=u.a.bind(p.a),g=function(e){var t=e.children,a=e.onSubmit,n=e.setRef;return i.a.createElement("form",{className:f("form"),onSubmit:a,ref:n},t)};g.propTypes={children:s.a.node.isRequired,onSubmit:s.a.func.isRequired,setRef:s.a.func.isRequired},g.defaultProps={setRef:function(){},onSubmit:function(){}},t.a=Object(o.compose)(Object(c.y)({onSubmit:l.n}),Object(c.C)({onMount:l.o}))(g)},rNUs:function(e,t,a){var n=a("q1tI");function i(e){return n.createElement("svg",e,n.createElement("g",{fill:"none",fillRule:"evenodd"},[n.createElement("circle",{stroke:"#FEFEFE",strokeWidth:"5",cx:"32",cy:"32",r:"29.5",key:0}),n.createElement("path",{d:"M30.333 23.128L41.117 31.2a1 1 0 0 1 0 1.6l-10.784 8.072a1 1 0 0 1-1.6-.8V23.928a1 1 0 0 1 1.6-.801z",fill:"#FFF",key:1})]))}i.defaultProps={width:"64",height:"64",viewBox:"0 0 64 64"},e.exports=i,i.default=i},sJx1:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),r=a("17x9"),s=a.n(r),o=a("vftj"),l=a.n(o),c=a("ZMrp"),d=a.n(c),u=a("UbMB"),m=a.n(u),p=a("FfIL"),f=a("rddA"),g=m.a.bind(d.a),v=function(e){var t=e.video,a="https://www.youtube.com/embed/".concat(t.id,"?autoplay=0&showinfo=0&modestbranding=1&playsinline=true");return t.related&&(a+="&rel=".concat(t.related)),t.playlistId&&(a+="&list=".concat(t.playlistId,"&listType=playlist")),i.a.createElement("div",{className:g("container")},i.a.createElement("iframe",{src:a,frameBorder:"0",allowFullScreen:!0}))},h=function(e){var t=e.video,a=t.playlistId?"playlist":null;return i.a.createElement(n.Fragment,null,i.a.createElement(l.a,null,i.a.createElement("script",{async:void 0,"custom-element":"amp-youtube",src:"https://cdn.ampproject.org/v0/amp-youtube-0.1.js"})),i.a.createElement("amp-youtube",{"data-videoid":t.id,autoplay:0,"data-param-showinfo":0,"data-param-playsinline":1,"data-param-modestbranding":1,"data-param-rel":t.related,"data-param-list":t.playlistId,"data-param-listtype":a,layout:"responsive",width:"640",height:"360"}))};v.propTypes=h.propTypes={video:s.a.shape({id:p.a.video.id,related:p.a.video.related,playlistId:p.a.video.playlistId}).isRequired},t.a=Object(f.a)(h)(v)},sZ2C:function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("QILm"),s=a.n(r),o=a("lSNA"),l=a.n(o),c=a("lwsE"),d=a.n(c),u=a("W8MJ"),m=a.n(u),p=a("a1gu"),f=a.n(p),g=a("Nsbk"),v=a.n(g),h=a("7W2i"),b=a.n(h),k=a("PJYZ"),y=a.n(k),E=a("q1tI"),S=a.n(E),w=a("17x9"),N=a.n(w),x=a("wIs1"),R=a("oJmH"),q=a("uLck"),T=a("PHoY"),O=a("luTm"),_=Object(R.compose)(Object(O.y)({onClick:T.j}),Object(O.C)({onView:T.k}))(q.a),P=a("+8XG"),j=a("UbMB"),F=a.n(j),I=a("SBLB"),C=a.n(I),D=a("vgG7");a.d(t,"b",function(){return Q}),a.d(t,"a",function(){return z}),a.d(t,"d",function(){return H}),a.d(t,"c",function(){return G});var M=F.a.bind(C.a),A=Object(R.compose)(x.a,O.p,Object(O.A)(),Object(O.t)(function(e){var t=e.userHasPermission,a=e.location.pathname;return{isLoggedIn:t(D.j),isApp:Object(P.h)(a)}})),L=function(e){function t(e){var a;return d()(this,t),(a=f()(this,v()(t).call(this,e))).onClick=a.onClick.bind(y()(y()(a))),a}return b()(t,e),m()(t,[{key:"getTo",value:function(){var e=this.props,t=e.deepLink;return e.isApp?"zebroid://".concat(t):"/".concat(t)}},{key:"onClick",value:function(e){var t=this.props,a=t.modalId,n=t.openNewPage,i=t.showModal;t.isApp||n||(e.preventDefault(),i(a))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.context,n=e.modalId,i=e.style,r=e.trackingData,s=M("".concat(n,"-cta"),"account-cta",i,l()({},"context-".concat(a),a)),o=this.getTo();return S.a.createElement(_,{className:s,onClick:this.onClick,to:o,trackingData:r},t)}}]),t}(S.a.Component);L.propTypes={children:N.a.node.isRequired,context:N.a.string,deepLink:N.a.string.isRequired,isApp:N.a.bool.isRequired,modalId:N.a.oneOf(["login","register","subscribe","subscribePromo"]),openNewPage:N.a.bool.isRequired,showModal:N.a.func.isRequired,style:N.a.oneOf(["button","inline","unstyled"]).isRequired,trackingData:N.a.object.isRequired},L.defaultProps={openNewPage:!1,promo:!1,style:"button",showModal:function(){}},A(L).displayName="AccountCTA";var B=function(e){var t=e.trackingContext,a=e.isLoggedIn,n=e.isApp,r=s()(e,["trackingContext","isLoggedIn","isApp"]);return a||n?null:S.a.createElement(L,i()({modalId:"login",deepLink:"login",trackingData:{context:t,ctaName:T.a},isApp:n},r))};B.defaultProps={children:"Log in"};var z=A(B);z.displayName="LoginCTA";var V=function(e){var t=e.trackingContext,a=s()(e,["trackingContext"]);return S.a.createElement(L,i()({modalId:"subscribe",deepLink:"subscribe",trackingData:{context:t,ctaName:T.e}},a))};V.defaultProps={children:"Start free trial"};var H=A(V);H.displayName="SubscribeCTA";var U=function(e){var t=e.trackingContext,a=s()(e,["trackingContext"]);return S.a.createElement(L,i()({modalId:"register",deepLink:"sign-up",trackingData:{context:t,ctaName:T.c}},a))};U.defaultProps={children:"Sign up"};var Q=A(U);Q.displayName="RegisterCTA";var G=A(function(e){var t=e.trackingContext,a=s()(e,["trackingContext"]);return S.a.createElement(L,i()({modalId:"subscribePromo",deepLink:"subscribe",trackingData:{context:t,ctaName:T.d}},a))});G.displayName="SubscribeBarCTA"},"suN/":function(e,t,a){var n=a("q1tI");function i(e){return n.createElement("svg",e,n.createElement("path",{d:"M11.2 0C5.235 0 .4 4.798.4 10.717c0 2.025.566 3.92 1.55 5.533L0 22l5.98-1.9a10.809 10.809 0 0 0 5.22 1.333c5.964 0 10.8-4.798 10.8-10.716C22 4.798 17.164 0 11.2 0zm5.602 14.654c-.226.616-1.33 1.21-1.826 1.254-.497.045-.497.397-3.248-.66-2.75-1.058-4.488-3.81-4.623-3.986C6.97 11.086 6 9.832 6 8.532s.7-1.937.947-2.202c.249-.265.542-.33.723-.33.18 0 .36.022.518.022.158 0 .384-.088.609.44.224.529.766 1.828.834 1.96.068.132.113.286.023.462-.09.177-.136.286-.27.441-.136.154-.285.345-.407.462-.136.132-.276.275-.119.54.158.264.701 1.127 1.506 1.828 1.034.9 1.906 1.178 2.176 1.31.27.132.428.11.587-.066.158-.176.676-.771.856-1.035.181-.264.36-.22.61-.133.248.088 1.578.727 1.849.859.27.133.45.198.519.309.067.11.067.638-.159 1.255z",style:{fill:"var(--color-ui,000)"},fillRule:"evenodd"}))}i.defaultProps={width:"22",height:"22",viewBox:"0 0 22 22"},e.exports=i,i.default=i},taI6:function(e,t,a){e.exports={icon:"_1a7c0",author:"_4173d",work:"_51d86",quartzy:"_27f48",bulletin:"_67784",series:"_8fd44",whatsapp:"_90120","news-article":"_2cf43",newsArticle:"_2cf43",linkedin:"_18be1"}},tc97:function(e,t,a){"use strict";a.d(t,"c",function(){return c}),a.d(t,"a",function(){return d}),a.d(t,"d",function(){return u}),a.d(t,"e",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"b",function(){return f});var n=a("RIqP"),i=a.n(n),r=a("lSNA"),s=a.n(r),o=a("MVZn"),l=a.n(o),c=function(e,t,a){return e.reduce(function(e,n){return l()({},e,s()({},n,l()({},a[n],t)))},a)},d=function(e,t){return c(e,{blurred:!0},t)},u=function(e){var t=e.validator,a=e.value;return l()({},e,{errors:t?t(a):[]})},m=function(e,t){return e.reduce(function(e,a){return l()({},e,s()({},a,u(t[a])))},t)},p=function(e,t){return!e.some(function(e){return t[e].errors&&t[e].errors.length})},f=function(e,t){return e.reduce(function(e,a){return t[a].errors.length?i()(e).concat(i()(t[a].errors)):e},[])}},uPRr:function(e,t,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MembershipModuleQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"menuItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"location"},value:{kind:"EnumValue",value:"PREMIUM_MEMBERS"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MenuItemParts"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:198}};n.loc.source={body:"#import 'fragments/MenuItemParts.gql'\n\nquery MembershipModuleQuery {\n\tmenuItems (\n\t\tfirst: 10\n\t\twhere: {\n\t\t\tlocation: PREMIUM_MEMBERS\n\t\t}\n\t) {\n\t\tedges {\n\t\t\tnode {\n\t\t\t\t...MenuItemParts\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};n.definitions=n.definitions.concat(a("ZjN7").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),r[e.name.value]=t}}),e.exports=n,e.exports.MembershipModuleQuery=function(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var n=r[t]||new Set,i=new Set,o=new Set(n);o.size>0;){var l=o;o=new Set,l.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=s(e,t);n&&a.definitions.push(n)}),a}(n,"MembershipModuleQuery")},vH67:function(e,t,a){e.exports={container:"_5f5af"}},"w+J7":function(e,t,a){e.exports={container:"_305f4",large:"_04698","two-column-layout":"f0657",twoColumnLayout:"f0657",alignleft:"a9d1c","extra-large":"cadb1",extraLarge:"cadb1"}},w93d:function(e,t,a){e.exports={form:"a01e4"}},wHj3:function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("QILm"),s=a.n(r),o=a("q1tI"),l=a.n(o),c=a("17x9"),d=a.n(c),u=a("Yw0A"),m=a("51S/"),p={dailyBrief:{text:"Sign up for the Quartz Daily Brief email",listId:3224114,checkboxText:"Stay updated about Quartz products and events.",confirmationMessage:"Thanks for signing up!",type:"email",project:"daily-brief",moduleLocation:"article"},obsession:{text:"Sign up for the Quartz Obsession email",listId:1827166,confirmationMessage:"Thanks for signing up!",checkboxText:"Stay updated about Quartz products and events.",type:"email",project:"obsession",moduleLocation:"article"},platform:{text:"Enjoy this content in the new Quartz app",url:"/app/",buttonText:"Get the app",type:"app",project:"platform"}},f=a("PABY"),g={email:{text:"Stay updated about Quartz at Work",signupFor:"Quartz at Work",listId:3225180,type:"email"},facebook:{text:"Join our Quartz at Work community on Facebook",url:"https://www.facebook.com/groups/quartzatwork/",buttonText:"Visit group",type:"social"},twitter:{text:"Stay up-to-date with Quartz at Work on Twitter",url:"https://twitter.com/QuartzAtWork",buttonText:"Follow us",type:"social"}},v=a("rddA"),h={africa:p,india:p,quartz:p,quartzy:f.a,work:g},b=function(e){var t=e.edition,a=e.amp,n=s()(e,["edition","amp"]),r=Object.values(h[t]);return a&&(r=r.filter(function(e){return"email"!==e.type})),l.a.createElement(u.a,null,r.map(function(e,t){return l.a.createElement(m.a,i()({key:t},e,n))}))};b.propTypes={edition:d.a.string.isRequired,amp:d.a.bool.isRequired},b.defaultProps={edition:"quartz"};t.a=Object(v.a)()(b)},"x/U7":function(e,t,a){e.exports={link:"_14446",meta:"_276e5",dateline:"_3f116",dark:"f7f83",work:"_0c186",quartzy:"_1278c",edition:"_979c1",premium:"_9dc1a"}},xBCN:function(e,t,a){e.exports={kicker:"ae7b8",link:"_18806",title:"b156c","right-arrow":"_60e47",rightArrow:"_60e47",description:"_22d20",meta:"_8ae5c",container:"_523be",image:"_3ab60"}},"xP/g":function(e,t,a){"use strict";var n=a("pVnL"),i=a.n(n),r=a("QILm"),s=a.n(r),o=a("lwsE"),l=a.n(o),c=a("W8MJ"),d=a.n(c),u=a("a1gu"),m=a.n(u),p=a("Nsbk"),f=a.n(p),g=a("7W2i"),v=a.n(g),h=a("q1tI"),b=a.n(h),k=a("17x9"),y=a.n(k),E=a("FfIL"),S=a("j40H"),w=a("vftj"),N=a.n(w),x=a("rddA"),R=a("Sbvt"),q=a("FFHB"),T=function(e){var t,a,n,i,r,s=e.article,o=e.amp;if(!s.slug)return b.a.createElement(N.a,null,b.a.createElement("title",null,s.seoTitle));var l=s.seoTitle,c=R.d[s.edition.slug].title,d=R.d[s.edition.slug].twitterName||"qz";if(s.socialImage&&(t=b.a.createElement("meta",{property:"og:image",content:s.socialImage}),a=b.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),i=b.a.createElement("meta",{name:"twitter:image",content:s.socialImage})),1===s.authors.length&&s.authors[0].twitter){var u=s.authors[0].twitter.split("/").pop();n=b.a.createElement("meta",{name:"twitter:creator",content:"@".concat(u)})}var m=s.authors.reduce(function(e,t){return"".concat(e,", ").concat(t.name)},"").slice(2);return!o&&Object(q.c)(s)&&(r=b.a.createElement("link",{rel:"amphtml",href:"".concat(s.link,"amp/")})),b.a.createElement(N.a,null,b.a.createElement("title",null,l),b.a.createElement("link",{rel:"canonical",href:s.link}),b.a.createElement("meta",{name:"news_keywords",content:s.keywords}),b.a.createElement("meta",{property:"article:publisher",content:"https://www.facebook.com/quartznews"}),b.a.createElement("meta",{property:"author",content:m}),b.a.createElement("meta",{property:"og:description",content:s.socialDescription}),t,b.a.createElement("meta",{property:"og:title",content:s.socialTitle||s.title}),b.a.createElement("meta",{property:"og:type",content:"article"}),b.a.createElement("meta",{property:"og:url",content:s.link}),b.a.createElement("meta",{property:"og:site_name",content:c}),a,n,i,b.a.createElement("meta",{name:"twitter:site",content:"@".concat(d)}),b.a.createElement("meta",{name:"twitter:url",content:s.link}),b.a.createElement("meta",{name:"description",content:s.socialDescription}),r)};T.propTypes={amp:y.a.bool.isRequired,article:y.a.shape(E.a).isRequired};var O=Object(x.a)()(T),_=a("15R3"),P=a.n(_),j=a("UbMB"),F=a.n(j),I=a("uLck"),C=a("Q5Fi"),D=a("L7YX"),M=F.a.bind(P.a),A=function(e){var t=e.appTheme,a=e.series;return b.a.createElement("div",{className:M("container",t)},b.a.createElement("h2",{className:M("title",t)},b.a.createElement(I.a,{to:Object(C.b)(a.slug)},a.name)),b.a.createElement("p",{className:M("description")},a.shortDescription))};A.propTypes={series:E.a.series,appTheme:y.a.string.isRequired};var L=Object(D.a)()(A),B=a("J4zp"),z=a.n(B),V=a("vqrP"),H=a("Biyx"),U=a("Ji1W"),Q=function(e){var t=e.article,a=t.seoTitle,n=Object(H.d)(t.dateGmt).toISOString(),i=Object(H.d)(t.modifiedGmt).toISOString(),r=t.authors.map(function(e){return{"@type":"Person",name:e.name}});if(1===r.length){var s=r;r=z()(s,1)[0]}var o={"@type":"NewsArticle",name:a,headline:a,description:t.summary,url:t.link,author:r,creator:t.authors.map(function(e){return e.name}),dateCreated:n,dateModified:i,datePublished:n,articleSection:t.bulletin?"bulletin":t.edition.slug,keywords:t.tags.map(function(e){return e.name}),identifier:[]};return t.featuredImage&&t.featuredImage.sourceUrl&&(o.image=[Object(U.e)(t.featuredImage.sourceUrl,1600,900,!0),Object(U.e)(t.featuredImage.sourceUrl,1200,900,!0),Object(U.e)(t.featuredImage.sourceUrl,900,900,!0)]),["Obsession","Topic"].forEach(function(e){var a=t[e.toLowerCase()];a&&o.identifier.push({"@type":"PropertyValue",name:e,value:a.name})}),b.a.createElement(V.a,{data:o})};Q.propTypes={article:y.a.shape({authors:E.a.authors.isRequired,featuredImage:E.a.featuredImage,seoTitle:y.a.string,tags:E.a.tags,title:E.a.title,link:E.a.link,og_description:y.a.string,dateGmt:E.a.dateGmt,topic:E.a.topic,edition:E.a.edition,obsession:E.a.obsession}).isRequired};var G=Q,W=a("MVZn"),J=a.n(W),Y=a("oJmH"),Z=a("RIqP"),K=a.n(Z),$=a("/MKj"),X=a("peh1"),ee=a("W4mn"),te=a.n(ee),ae=a("SoZO"),ne=a("glml"),ie=a.n(ne),re=F.a.bind(te.a),se=function(e){var t=e.altBackground,a=e.appTheme,n=e.articles,i=e.bulletin,r=e.colorScheme,s=e.isAbove,o=e.title;return b.a.createElement("div",{className:re("container",a,r,{altBackground:t}),"data-module-name":"article-feed"},b.a.createElement("div",{className:re("feed",a,r)},o&&b.a.createElement("h3",{className:re("title",a)},b.a.createElement(ie.a,null),o),n.slice(0,2).map(function(e){return b.a.createElement(ae.a,{element:e,key:e.id})}),i,n.slice(2).map(function(e){return b.a.createElement(ae.a,{element:e,key:e.id})}),s&&b.a.createElement("div",{className:re("border")})))};se.propTypes={altBackground:y.a.bool,appTheme:y.a.string.isRequired,articles:S.a.articles,bulletin:y.a.element,colorScheme:y.a.string.isRequired,isAbove:y.a.bool,title:S.a.title},se.defaultProps={bulletin:null,altBackground:!1};var oe=Object(D.a)(["colorScheme"])(se),le=a("PIce"),ce=Object(X.createSelector)(function(e){return e.recircPosts},function(e){return{above:e.slice(0,6),below:e.slice(6,13)}}),de=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={recircPosts:a.getRecircPosts()},a}return v()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){e.articleId!==this.props.articleId&&(this.props.resetRecircIds(),this.setState({recircPosts:this.getRecircPosts()}))}},{key:"getRecircPosts",value:function(){var e=this.props,t=e.posts,a=e.series,n=e.setMidArticleRecircIds,i=Object(le.d)(t);a.slug&&a.count>=12&&n(i.splice(0,2).map(function(e){return e.id}));return i}},{key:"render",value:function(){var e=this.props,t=e.recircBulletin,a=e.title,n=e.engage,i=this.state.recircPosts,r=ce({recircPosts:i}),s=r.above,o=r.below;return b.a.createElement(h.Fragment,null,b.a.createElement(oe,{articles:s,bulletin:t,title:a,isAbove:!0}),n,b.a.createElement(oe,{articles:o}))}}]),t}(h.Component);de.propTypes={posts:y.a.arrayOf(y.a.shape(E.a)).isRequired,articleId:y.a.string,series:y.a.object,recircBulletin:y.a.element,title:y.a.element,engage:y.a.element,setMidArticleRecircIds:y.a.func.isRequired,resetRecircIds:y.a.func.isRequired};var ue=Object($.b)(null,function(e){return{setMidArticleRecircIds:function(t){return e({type:"SET_MIDARTICLE_RECIRC_IDS",midArticleRecircIds:t})},resetRecircIds:function(){return e({type:"RESET_RECIRC_IDS"})}}})(de),me=a("s8MI"),pe=Object(me.i)("posts.edges"),fe={popular:pe,obsession:Object(me.i)("obsessions.edges[0].node.posts.edges"),membership:Object(X.createSelector)([pe,Object(me.i)("guides.edges[0].node.posts.edges")],function(e,t){return K()(t).concat(K()(e))}),recommended:pe,series:Object(me.i)("serieses.edges[0].node.posts.edges")},ge=Object(X.createSelector)([function(e){var t=e.postsType,a=e.data;return fe[t](a)},function(e){return e.exclude}],function(e,t){return Object(le.c)(e,t)}),ve=function(e){var t=e.article,a=t.id,n=z()(t.readNext,1)[0],r=t.series,o=e.data,l=e.dedupeCallback,c=e.postsType,d=e.visitedArticles,u=s()(e,["article","data","dedupeCallback","postsType","visitedArticles"]),m=Object(le.b)([a,n],d).map(function(e){return{id:e}}),p=ge({postsType:c,data:o,exclude:m});return l(p),b.a.createElement(ue,i()({articleId:a,posts:p,series:r},u))};ve.propTypes={article:y.a.shape(E.a).isRequired,data:y.a.object.isRequired,dedupeCallback:y.a.func.isRequired,postsType:y.a.string.isRequired,visitedArticles:y.a.arrayOf(y.a.string)},ve.defaultProps={dedupeCallback:function(){}};var he=Object($.b)(function(e){return{visitedArticles:e.refer.visitedArticles}})(ve),be=a("luTm"),ke={},ye=["quartzy","work","africa","india"],Ee=function(e){var t=e.amp,a=e.article,n=e.query,r=e.variables,o=s()(e,["amp","article","query","variables"]),l=JSON.stringify(r),c=ke[l]||"",d=r.limit-5,u=ye.indexOf(a.edition.slug)>-1?a.edition.slug.toUpperCase():void 0;Object.assign(r,{after:c,edition:u});var m=function(e){if(e.length&&e.length<d){var t=Math.min(e.length-1,d);ke[l]=e[t].id}};return b.a.createElement(Y.Query,{query:n,variables:r,ssr:!!t},function(e){var t=e.error,n=e.loading,r=e.data;return t||n?null:b.a.createElement(he,i()({article:a,data:r,dedupeCallback:m},o))})};Ee.propTypes={amp:y.a.bool.isRequired,article:y.a.shape(E.a).isRequired,query:y.a.object.isRequired,postsType:y.a.string.isRequired,variables:y.a.object.isRequired};var Se=Object(be.d)()(Ee),we=a("DwGJ"),Ne=a.n(we),xe=a("oubA"),Re=a.n(xe),qe=(a("oUYJ"),a("5yKF")),Te=a.n(qe),Oe=a("VcIu"),_e=a.n(Oe),Pe=function(e){var t=e.article.postId,a=b.a.createElement(h.Fragment,null,"Recommended stories"),n={postId:t,postsPerPage:16};return b.a.createElement(Se,i()({query:Ne.a,postsType:"recommended",variables:n,title:a},e))},je=function(e){var t=b.a.createElement(h.Fragment,null,"Most Popular");return b.a.createElement(Se,i()({query:Re.a,postsType:"popular",variables:{postsPerPage:16},title:t},e))},Fe=function(e){var t=e.article.series,a=b.a.createElement(h.Fragment,null,b.a.createElement("span",null,"More from "),b.a.createElement(I.a,{to:"".concat(Object(C.b)(t.slug))},t.name)),n={postsPerPage:18,slug:t.slug};return b.a.createElement(Se,i()({query:_e.a,postsType:"series",variables:n,title:a},e))},Ie=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={data:null},a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.article,n=a.postId,i=a.guide,r=t.client,s=r.query({query:Te.a,ssr:!0,variables:{postsPerPage:16,slug:i.slug}}),o=r.query({query:Ne.a,ssr:!0,variables:{postId:n,postsPerPage:16}});Promise.all([s,o]).then(function(t){var a=z()(t,2),n=a[0],i=a[1];return e.setState({data:J()({},n.data,i.data)})}).catch(function(e){return console.error("Could not fetch posts",e)})}},{key:"render",value:function(){var e=this.state.data;return e?b.a.createElement(he,i()({data:e,postsType:"membership",title:b.a.createElement(h.Fragment,null,"More stories")},this.props)):null}}]),t}(h.Component);Ie.propTypes={article:y.a.shape(E.a).isRequired,client:y.a.object.isRequired};var Ce=Object(Y.withApollo)(Ie),De=function(e){var t=e.isBulletin,a=s()(e,["isBulletin"]),n=a.article,i=n.guide,r=n.series;return r.slug&&r.count>=3?b.a.createElement(Fe,a):i.slug?b.a.createElement(Ce,a):t?b.a.createElement(je,a):b.a.createElement(Pe,a)};De.propTypes={article:y.a.shape(E.a).isRequired,isBulletin:y.a.bool.isRequired};var Me=De,Ae=a("7yJE"),Le=a.n(Ae),Be=a("aVQ9"),ze=a("jQzq"),Ve=a("lq+O"),He=function(e){var t=e.appTheme,a=e.sourceUrl,n=e.title,i=e.altText,r=e.caption,s=e.credit,o=e.size,l=e.isSouvenir,c=e.mediaDetails,d=c.width,u=c.height,m=e.cx,p=e.isPremium;return b.a.createElement("figure",{className:m("container",o,t,{polaroid:l,premium:p})},b.a.createElement("div",{className:m("image-container",t,o)},b.a.createElement(Ve.a,{className:m(t,{polaroid:l}),src:a,title:n,alt:i,sources:function(e,t){var a=[{breakpoint:"phone-only",width:410},{breakpoint:"phone-large-up",width:690},{breakpoint:"tablet-portrait-up",width:950}];return t?[{breakpoint:"phone-only",width:400},{breakpoint:"phone-large-up",width:767},{breakpoint:"tablet-portrait-up",width:270},{breakpoint:"tablet-landscape-up",width:400},{breakpoint:"desktop-up",width:480}]:"portrait"===e?a.concat([{breakpoint:"tablet-landscape-up",width:550}]):a.concat([{breakpoint:"tablet-landscape-up",width:"extra-large"===e?1600:1100}])}(o,l),aspectRatio:function(e,t,a,n){return t?1:"portrait"===e?5/6:a/n}(o,l,d,u),crop:l||"portrait"===o}),s&&b.a.createElement("div",{className:m("credit",t,o,{polaroid:l})},s)),!l&&r&&b.a.createElement("figcaption",{className:m("caption",t,o,{premium:p})},r))};He.propTypes={appTheme:y.a.string.isRequired,sourceUrl:y.a.string,title:y.a.string,altText:y.a.string,caption:y.a.string,credit:y.a.string,size:y.a.string,mediaDetails:y.a.shape({width:y.a.number,height:y.a.number}).isRequired,isSouvenir:y.a.bool,cx:y.a.func,isPremium:y.a.bool.isRequired},He.defaultProps={isPremium:!1};var Ue=Object(D.a)()(He),Qe=a("GeSh"),Ge=a.n(Qe),We=a("7AM1"),Je=a.n(We),Ye=a("xnIu"),Ze=a.n(Ye),Ke=F.a.bind(Ge.a),$e=F.a.bind(Je.a),Xe=F.a.bind(Ze.a),et=function(e){var t=Object.assign({},e);return b.a.createElement(ze.a,null,b.a.createElement(Ue,i()({appTheme:"quartz",cx:Ke},t)),b.a.createElement(Ue,i()({appTheme:"quartzy",cx:$e},t)),b.a.createElement(Ue,i()({appTheme:"work",cx:Xe},t)))},tt=a("CxRL"),at=a("FLc/"),nt=function(e){var t=e.bulletin,a=e.kicker,n=e.context;return t?b.a.createElement(at.a,{image:t.campaign.logo,link:t.clientTracking.logo,sponsor:t.sponsor.name,context:n}):a?b.a.createElement(tt.a,{text:a,context:n,colorScheme:"light"}):null};nt.propTypes={bulletin:E.a.bulletin,kicker:E.a.kicker,context:y.a.string};var it=nt,rt=a("N8Go"),st=a("F5l7"),ot=a("NMrH"),lt=F.a.bind(Le.a),ct=function(e){var t=e.appTheme,a=e.authorLocation,n=e.authors,r=e.bulletin,s=e.dateGmt,o=e.featuredImage,l=e.featuredImageSize,c=e.guide,d=e.isPremium,u=e.isSeries,m=e.isSouvenir,p=e.isVideo,f=e.kicker,g=e.series,v=e.showHero,h=e.title,k=d?"premium-article":"article";return p&&(k="video-article"),b.a.createElement("header",{className:lt("container",t,l,{noBar:p||v,souvenir:m,noHero:!v,premium:d,video:p})},v&&!p&&b.a.createElement(et,i()({size:l,isSouvenir:m,isPremium:d},o)),m&&b.a.createElement(I.a,{className:lt("stamp"),to:"/quartzy/souvenirs/"},b.a.createElement(st.a,{src:"https://cms.qz.com/wp-content/uploads/2017/10/stamp.png",alt:"stamp",width:173,height:173})),b.a.createElement("div",{className:lt("hed-block",l,t,{hasHero:v&&!m&&!p,souvenir:m,noHero:!v||p,premium:d,video:p})},u&&p&&b.a.createElement("h4",{className:lt("series-name")},b.a.createElement(I.a,{to:"/se/".concat(g.slug,"/")},g.name),b.a.createElement("span",{className:lt("video-series-kicker")}," // ",f.toLowerCase())),!(p&&u)&&b.a.createElement(it,{bulletin:r,kicker:f,context:k}),b.a.createElement(rt.a,{tagName:"h1",text:h,context:k,colorScheme:"light"}),b.a.createElement(Be.a,{authorLocation:a,authors:n,bulletin:r,dateGmt:s,guide:c,isPremium:d})))};ct.propTypes={appTheme:y.a.string.isRequired,authors:ot.a.authors,authorLocation:y.a.shape({name:y.a.string.isRequired}),bulletin:ot.a.bulletin,dateGmt:ot.a.dateGmt,featuredImage:ot.a.featuredImage,featuredImageSize:ot.a.featuredImageSize,guide:y.a.shape(ot.c),isPremium:y.a.bool.isRequired,isVideo:y.a.bool.isRequired,isSeries:y.a.bool.isRequired,isSouvenir:y.a.bool.isRequired,series:ot.a.series,showHero:y.a.bool.isRequired,kicker:ot.a.kicker,tags:ot.a.tags,title:ot.a.title},ct.defaultProps={featuredImage:null,isPremium:!1};var dt=Object(D.a)()(ct),ut=a("lSNA"),mt=a.n(ut),pt=a("PJYZ"),ft=a.n(pt),gt=a("sJx1"),vt=a("pzzP"),ht=a.n(vt),bt=a("4kBU"),kt=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).play=a.play.bind(ft()(ft()(a))),a.resetPlayer=a.resetPlayer.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;Object(le.i)("https://player.vimeo.com/api/player.js").then(function(){return e.setupPlayer()})}},{key:"componentDidUpdate",value:function(e){var t=e.playing,a=e.video.id,n=this.props,i=n.playing;if(a!==n.video.id)return this.player.destroy(),this.props.onEnded(),void this.setupPlayer();!t||i?t||!i||this.play():this.resetPlayer()}},{key:"componentWillUnmount",value:function(){this.player.destroy()}},{key:"setupPlayer",value:function(){var e=this.props,t=e.video.id,a=e.onEnded,n=e.onLoaded;this.player=new Vimeo.Player(this.el,{id:t}),this.player.on("ended",function(){return a(t)}),n(t)}},{key:"resetPlayer",value:function(){this.player.setCurrentTime(0)}},{key:"play",value:function(){this.props.loaded&&this.player.play()}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{ref:function(t){return e.el=t}})}}]),t}(b.a.Component);kt.propTypes={loaded:y.a.bool.isRequired,onEnded:y.a.func.isRequired,onLoaded:y.a.func.isRequired,playing:y.a.bool.isRequired,video:y.a.shape({id:E.a.video.id,related:E.a.video.related,playlistId:E.a.video.playlistId}).isRequired},kt.defaultProps={loaded:!1,onEnded:function(){},onLoaded:function(){},playing:!1};var yt=function(e){var t=e.video;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:!0,"custom-element":"amp-vimeo",src:"https://cdn.ampproject.org/v0/amp-vimeo-0.1.js"})),b.a.createElement("amp-vimeo",{"data-videoid":t.id,layout:"responsive",width:"640",height:"360"}))};yt.propTypes={video:y.a.shape({id:E.a.video.id,related:E.a.video.related,playlistId:E.a.video.playlistId}).isRequired};var Et=Object(x.a)(yt)(kt),St=a("PidD"),wt=a.n(St),Nt=a("sZ2C"),xt=a("rNUs"),Rt=a.n(xt),qt=F.a.bind(wt.a),Tt=function(e){var t=e.featuredImage;return b.a.createElement(Ve.a,{className:qt("poster"),src:t.sourceUrl,title:t.title,alt:t.altText,sources:[{breakpoint:"phone-only",width:410},{breakpoint:"phone-large-up",width:690},{breakpoint:"tablet-portrait-up",width:950},{breakpoint:"tablet-landscape-up",width:1150}],aspectRatio:16/9,crop:!1})};Tt.propTypes={featuredImage:y.a.shape(bt.a).isRequired};var Ot=function(e){var t=e.loaded,a=e.featuredImage,n=e.onPlay;switch(e.overlay){case"trailer":return b.a.createElement("button",{className:qt("overlay",{loaded:t}),onClick:n},a&&b.a.createElement(Tt,{featuredImage:a}),b.a.createElement("div",{className:qt("content-wrapper",{loaded:t})},b.a.createElement("div",{className:qt("button")},b.a.createElement(Rt.a,{className:qt("small-play-icon")}),"Preview this member exclusive")));case"rewatchTrailer":return b.a.createElement("div",{className:qt("overlay",{loaded:t})},a&&b.a.createElement(Tt,{featuredImage:a}),b.a.createElement("div",{className:qt("content-wrapper",{loaded:t})},b.a.createElement("div",{className:qt("button")},b.a.createElement(Nt.d,{trackingContext:"article video",style:"unstyled"},b.a.createElement("span",{className:qt("subscribe-text")},"Become a member to watch the full video"))),b.a.createElement("button",{onClick:n,className:qt("replay")},"Rewatch preview")));case"paywall":return b.a.createElement("div",{className:qt("overlay",{loaded:t})},a&&b.a.createElement(Tt,{featuredImage:a}),b.a.createElement("div",{className:qt("content-wrapper",{loaded:t})},b.a.createElement("div",{className:qt("button")},b.a.createElement(Nt.d,{trackingContext:"article video",style:"unstyled"},b.a.createElement("span",{className:qt("subscribe-text")},"Become a member to watch this video")))));default:return b.a.createElement("button",{title:"Play video",className:qt("overlay",{loaded:t}),onClick:n},a&&b.a.createElement(Tt,{featuredImage:a}),b.a.createElement("div",{className:qt("content-wrapper",{loaded:t})},b.a.createElement(Rt.a,{className:qt("large-play-icon")})))}};Ot.propTypes={loaded:y.a.bool.isRequired,featuredImage:y.a.shape(bt.a),onPlay:y.a.func.isRequired};var _t=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={playing:!1,loaded:!1},a.handleEnded=a.handleEnded.bind(ft()(ft()(a))),a.handleLoaded=a.handleLoaded.bind(ft()(ft()(a))),a.handlePlay=a.handlePlay.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"handleEnded",value:function(){this.setState({playing:!1})}},{key:"handleLoaded",value:function(){this.setState({loaded:!0})}},{key:"handlePlay",value:function(){var e=this.props.onStarted;this.setState({playing:!0},e)}},{key:"render",value:function(){var e=this.state.playing,t=this.props,a=t.featuredImage,n=t.video,r=t.overlay;return b.a.createElement("div",{className:qt("container")},b.a.createElement(Et,i()({},this.state,{video:n,onEnded:this.handleEnded,onLoaded:this.handleLoaded})),!e&&b.a.createElement(Ot,i()({},this.state,{featuredImage:a,onPlay:this.handlePlay,overlay:r})))}}]),t}(h.Component);_t.propTypes={featuredImage:y.a.shape(bt.a),onStarted:y.a.func.isRequired},_t.defaultProps={onStarted:function(){}};var Pt=_t,jt=F.a.bind(ht.a),Ft=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={trailerStarted:!1},a.handleTrailerStarted=a.handleTrailerStarted.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"handleTrailerStarted",value:function(){this.setState({trailerStarted:!0})}},{key:"render",value:function(){var e=this.props,t=e.appTheme,a=e.featuredImage,n=e.video,i=e.video.type,r=e.trailerVideo,s=e.isPaywalled,o=e.isPremium;if("youtube"===i)return b.a.createElement("div",{className:jt("video","type-youtube")},b.a.createElement(gt.a,{video:n}));if("vimeo"!==i)return null;if(s&&o&&r){var l,c=this.state.trailerStarted;return b.a.createElement("div",{className:jt("video",t,(l={},mt()(l,"type-".concat(i),i),mt()(l,"isPaywalled",s),l))},b.a.createElement(Pt,{video:r,featuredImage:a,onStarted:this.handleTrailerStarted,overlay:c?"rewatchTrailer":"trailer"}))}return b.a.createElement("div",{className:jt("video",t,"type-vimeo",{isPaywalled:s})},b.a.createElement(Pt,{video:n,featuredImage:a,overlay:s?"paywall":"default"}))}}]),t}(h.Component);Ft.propTypes={appTheme:y.a.string.isRequired,featuredImage:y.a.shape(bt.a),isPaywalled:y.a.bool.isRequired,isPremium:y.a.bool.isRequired,trailerVideo:y.a.shape({id:E.a.video.id}),video:y.a.shape({id:E.a.video.id,related:E.a.video.related,playlistId:E.a.video.playlistId}).isRequired};var It=Object(D.a)()(Ft),Ct=a("TG3k"),Dt=a.n(Ct),Mt=a("9LWH"),At=a("3SuT"),Lt=a("+8XG"),Bt=F.a.bind(Dt.a),zt=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={canFix:!1,fixed:!1,fixedBottom:!1,height:600,src:null},a.el=null,a._maybeFixFrame=a._maybeFixFrame.bind(ft()(ft()(a))),a._registerFrame=a._registerFrame.bind(ft()(ft()(a))),a._resizeFrame=a._resizeFrame.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addMessageListener,a=e.addScrollListener,n=e.id,i=e.src;t({eventName:"child:register",eventHandler:this._registerFrame,frameId:n}),t({eventName:"child:updateHeight",eventHandler:this._resizeFrame,frameId:n}),a(this._maybeFixFrame),this.setState({src:Object(Lt.a)(i)})}},{key:"_maybeFixFrame",value:function(){if(this.state.canFix&&this.el){var e=this.el.getBoundingClientRect(),t=e.bottom,a=e.top<=0&&t>=0,n=a&&t<document.documentElement.clientHeight;this.setState({fixed:a,fixedBottom:n})}}},{key:"_registerFrame",value:function(e){var t=e.data.requestHeight;if(t){var a=t.desktop,n=t.fix;this.setState({canFix:!!n,height:a||this.state.height})}}},{key:"_resizeFrame",value:function(e){var t=e.data.height;this.setState({height:Math.round(t)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.isPremium,i=t.size,r=this.state,s=r.canFix,o=r.fixed,l=r.fixedBottom,c=r.height,d=r.src,u={height:c};return b.a.createElement("div",{className:Bt("container",i,{twoColumnLayout:!n}),id:"container-".concat(a),ref:function(t){return e.el=t},style:u},b.a.createElement("iframe",{id:a,className:Bt("frame",{canFix:s,fixed:o,fixedBottom:l}),name:a,src:d,frameBorder:"0",scrolling:"no",seamless:"seamless"}))}}]),t}(b.a.Component);zt.propTypes={addMessageListener:y.a.func.isRequired,addScrollListener:y.a.func.isRequired,id:y.a.string.isRequired,isPremium:y.a.bool.isRequired,size:y.a.oneOf(["medium","large","extra-large"]).isRequired,src:y.a.string.isRequired},zt.defaultProps={isPremium:!1,src:"",size:"medium"};var Vt=Object(At.a)(Object(Mt.a)(zt)),Ht=a("6Xl/"),Ut=a.n(Ht),Qt=a("zc91"),Gt=a("KvxP"),Wt=a.n(Gt),Jt=a("ZcFT"),Yt=a("4CPt"),Zt=a("qnZg"),Kt=a("gkHA"),$t=a("n+Rx"),Xt=a("tc97"),ea=a("PHoY"),ta=F.a.bind(Wt.a),aa={context:"Membership email exchange",formName:ea.b,stageName:"Email exchange"},na=function(e){var t=e.fieldState,a=e.loading,n=e.onChange,i=e.onSubmit,r=e.showLogin;return b.a.createElement("div",{className:ta("container")},b.a.createElement("h3",{className:ta("title")},"Sign up with your email to read this ",b.a.createElement(I.a,{to:"/become-a-member/"},"member exclusive")," story."),b.a.createElement(Zt.a,{onSubmit:i,trackingData:aa},b.a.createElement("div",{className:ta("signup")},b.a.createElement("div",{className:ta("email")},b.a.createElement(Kt.a,{fieldName:"emailExchange",fieldState:t,handleFieldChange:n,id:"email-exchange",trackingData:aa})),b.a.createElement(Yt.a,{context:"email-exchange",submitText:"Read story",loading:a}))),r&&b.a.createElement("div",{className:ta("login")},"Already a member? ",b.a.createElement(I.a,{to:"/login/"},"Log in.")))};na.propTypes={fieldState:y.a.object.isRequired,loading:y.a.bool.isRequired,onChange:y.a.func.isRequired,onSubmit:y.a.func.isRequired,showLogin:y.a.bool.isRequired};var ia=Object(Y.compose)(Object(be.A)(),function(e){var t=function(t){function a(e){var t;return l()(this,a),(t=m()(this,f()(a).call(this,e))).state={emailExchange:{value:"",validator:$t.g,errors:[]}},t.onChange=t.onChange.bind(ft()(ft()(t))),t.onSubmit=t.onSubmit.bind(ft()(ft()(t))),t}return v()(a,t),d()(a,[{key:"getNewFieldState",value:function(e,t){return Object(Xt.d)(J()({},this.state[e],t))}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(mt()({},e,this.getNewFieldState(e,t)))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.id,a=this.getNewFieldState(name,this.state.emailExchange);a.errors.length||this.props.registerUser(a.value,void 0,null,null,"QUARTZ_ONE_FREE_ARTICLE",[t])}},{key:"render",value:function(){var t=this.props,a=t.pendingRequest,n=t.showLogin;return b.a.createElement(e,{fieldState:this.state.emailExchange,loading:a,onChange:this.onChange,onSubmit:this.onSubmit,showLogin:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.userError;return a?{emailExchange:J()({},t.emailExchange,{errors:[a]})}:null}}]),a}(h.Component);return t.propTypes={id:y.a.string.isRequired,pendingRequest:y.a.bool.isRequired,registerUser:y.a.func.isRequired,userError:y.a.node,showLogin:y.a.bool.isRequired},t})(na),ra=F.a.bind(Wt.a),sa=function(e){var t=e.isVideo;return b.a.createElement("div",{className:ra("container")},b.a.createElement("h3",{className:ra("title")},"Become a ",b.a.createElement(I.a,{to:"/become-a-member/"},"member")," of Quartz to ",t?"watch the full video":"read this story",". Youll also get:"),b.a.createElement("ul",{className:ra("perks")},b.a.createElement("li",{className:ra("perk")},b.a.createElement("h4",{className:ra("perk-title")},"Field Guides"),b.a.createElement("span",{className:ra("perk-description")},"Deep dives into the forces reshaping the global economy and defining the future. Formats include essays, data visualizations, interviews, video, and more.")),b.a.createElement("li",{className:ra("perk")},b.a.createElement("h4",{className:ra("perk-title")},"Expert daily analysis"),b.a.createElement("span",{className:ra("perk-description")},"Daily featuresdelivered with expert perspectiveexploring landmark shifts in economics, geopolitics, technology, and modern life.")),b.a.createElement("li",{className:ra("perk")},b.a.createElement("h4",{className:ra("perk-title")},"Exclusive access to Quartz"),b.a.createElement("span",{className:ra("perk-description")},"Conference calls with our journalists & editors, member-only events, input on editorial direction, and more."))),b.a.createElement("div",{className:ra("ctas")},b.a.createElement(Jt.a,null)))};sa.propTypes={isVideo:y.a.bool.isRequired};var oa=function(e){var t=e.showEmailExchangeCTA,a=e.isVideo,n=e.id,i=b.a.createElement(sa,{isVideo:a}),r=b.a.createElement(ia,{id:n});return t?r:i};oa.propTypes={id:y.a.string.isRequired,isVideo:y.a.bool.isRequired,showEmailExchangeCTA:y.a.bool.isRequired};var la=oa,ca=a("wHj3"),da=a("BEHi"),ua=a.n(da),ma=a("2zOU"),pa=a("kskV"),fa=F.a.bind(ua.a),ga=function(e){var t=e.series,a=e.edition,n=!(!t||!t.hasOwnProperty("emailListId"))&&parseInt(t.emailListId);return n?b.a.createElement(ma.a,{text:"Email me new stories in this series and others like it from Quartz",listId:n,showCheckBox:!1,moduleLocation:"article",context:"promotion"}):b.a.createElement(ca.a,{edition:a,moduleLocation:"article"})};ga.propTypes={edition:y.a.string.isRequired,series:E.a.series};var va=Object(pa.a)(function(e){return"portrait"!==e.featuredImageSize})(ga),ha=function(e){var t=e.edition,a=e.featuredImageSize,n=e.series,i=e.setRef,r=e.visible;return b.a.createElement("aside",{className:fa("sidebar",{visible:r}),ref:i},b.a.createElement(va,{edition:t,featuredImageSize:a,series:n}))};ha.propTypes={edition:y.a.string.isRequired,featuredImageSize:E.a.featuredImageSize.isRequired,series:E.a.series,setRef:y.a.func.isRequired,visible:y.a.bool.isRequired},ha.defaultProps={featuredImageSize:"large"};var ba=Object(be.B)({shouldUpdate:function(e,t){return e.postId!==t.postId}})(ha),ka=a("bQ0P"),ya=a.n(ka),Ea=F.a.bind(ya.a),Sa=function(e,t){var a=t.name,n=t.value;if(["dir","id"].includes(a))return J()(mt()({},a,n),e);if("style"===a){var i=n.match(/text-align\s*:\s*(center|right)/);if(i)return J()({align:i[1]},e)}return e},wa=function(e){var t,a=e.amp,n=e.appTheme,i=e.attributes,r=e.innerHtml,o=e.isWorkGuide,l=e.type,c=i.reduce(Sa,{}),d=c.align,u=s()(c,["align"]),m=a?r.replace(/style\=\"(?:.*)\"/g,""):r;return b.a.createElement(l,J()({className:Ea(l,n,(t={},mt()(t,"align-".concat(d),d),mt()(t,"guide",o),t)),dangerouslySetInnerHTML:{__html:m}},u))};wa.propTypes={amp:y.a.bool.isRequired,appTheme:y.a.string.isRequired,attributes:y.a.array,innerHtml:y.a.string,isWorkGuide:y.a.bool,type:y.a.string.isRequired};var Na=Object(D.a)()(wa),xa=a("Mgik"),Ra=a.n(xa),qa=F.a.bind(Ra.a),Ta=function(){return b.a.createElement("hr",{className:qa("container")})},Oa=a("zSjg"),_a=a("0Ojn"),Pa=a.n(_a),ja=F.a.bind(Pa.a),Fa={small:350,medium:620,large:940,"extra-large":1260},Ia=function(e){var t=e.align,a=e.alt,n=e.appTheme,i=e.caption,r=e.credit,s=e.height,o=e.isPremium,l=e.size,c=e.url,d=e.width;if(!c)return null;var u={small:Object(U.e)(c,Fa.small),medium:Object(U.e)(c,Fa.medium),large:Object(U.e)(c,Fa.large),"extra-large":Object(U.e)(c,Fa["extra-large"])},m={small:Object(U.e)(c,2*Fa.small),medium:Object(U.e)(c,2*Fa.medium),large:Object(U.e)(c,2*Fa.large),"extra-large":Object(U.e)(c,2*Fa["extra-large"])},p=["".concat(u.small," ").concat(Fa.small,"w"),"".concat(m.small," ").concat(2*Fa.small,"w")],f=["".concat(u.medium," ").concat(Fa.medium,"w"),"".concat(m.medium," ").concat(2*Fa.medium,"w")],g=["".concat(u.large," ").concat(Fa.large,"w"),"".concat(m.large," ").concat(2*Fa.large,"w")],v=["".concat(u["extra-large"]," ").concat(Fa["extra-large"],"w"),"".concat(m["extra-large"]," ").concat(2*Fa["extra-large"],"w")],h={small:p.concat(),medium:p.concat(f),large:p.concat(f,g),"extra-large":p.concat(f,g,v)},k={small:["(min-width: 64em) 270px","(min-width: 48em) ".concat(Fa.small,"px"),"100vw"],medium:["(min-width: 48em) ".concat(Fa.medium,"px"),"100vw"],large:["(min-width: 64em) ".concat(Fa.large,"px"),"100vw"],"extra-large":["(min-width: 64em) ".concat(Fa["extra-large"],"px"),"100vw"]};return b.a.createElement("figure",{className:ja("container","align".concat(t),l,n,{twoColumnLayout:!o})},b.a.createElement("div",{className:ja("image",n)},b.a.createElement(Oa.a,{alt:a,height:s,lazyLoad:!0,sizes:k[l],src:u[l],srcSet:h[l],width:d}),r&&b.a.createElement("div",{className:ja("credit",n)},r)),i&&b.a.createElement("figcaption",{className:ja("caption",n)},i))};Ia.propTypes={align:y.a.string.isRequired,alt:y.a.string.isRequired,appTheme:y.a.string.isRequired,caption:y.a.string.isRequired,credit:y.a.string.isRequired,height:y.a.number.isRequired,isPremium:y.a.bool.isRequired,size:y.a.oneOf(Object.keys(Fa)).isRequired,url:y.a.string.isRequired,width:y.a.number.isRequired},Ia.defaultProps={align:"",alt:"",isPremium:!1,size:"medium",caption:""};var Ca=Object(D.a)()(Ia),Da=a("VZEo"),Ma=a.n(Da),Aa=F.a.bind(Ma.a),La=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={height:0},a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props.block,t=document.getElementsByClassName(Aa("container"))[e.footnoteIndex],a=t?t.scrollHeight:0;this.setState({height:a})}},{key:"render",value:function(){var e=this.props,t=e.block,a=e.setRef,n=e.show,i=this.state.height,r={maxHeight:n?"".concat(i,"px"):"0px"};return b.a.createElement("div",{className:Aa("container"),style:r},b.a.createElement("div",{className:Aa("note",{show:n}),ref:a(t.footnoteIndex)},b.a.createElement("h5",{className:Aa("number")},t.footnoteIndex+1),b.a.createElement("div",{className:Aa("text"),dangerouslySetInnerHTML:{__html:t.footnote}})))}}]),t}(b.a.Component);La.propTypes={block:y.a.shape({footnote:y.a.string.isRequired,footnoteIndex:y.a.number.isRequired}),setRef:y.a.func,show:y.a.bool.isRequired},La.defaultProps={show:!1};var Ba=La,za=a("Y5b1"),Va=a("SyrZ"),Ha=a("f66B"),Ua=a.n(Ha),Qa=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={clickThroughUrls:[],hasSponsorData:!1,images:[],messages:[],isEmpty:!1},a.postMessageEventName="sponsor-ad-".concat(Object(Va.b)()),a.onSponsorData=a.onSponsorData.bind(ft()(ft()(a))),a.onSlotRenderEnded=a.onSlotRenderEnded.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){(0,this.props.addMessageListener)({eventHandler:this.onSponsorData,eventName:this.postMessageEventName})}},{key:"componentDidUpdate",value:function(e){Ua()(e.targeting,this.props.targeting)||this.setState({isEmpty:!1})}},{key:"componentWillUnmount",value:function(){this.props.removeMessageListener()}},{key:"onSponsorData",value:function(e){var t=e.data,a=t.images,n=t.messages,i=t.tracking,r=Object(le.e)(i,"clickThrough.urls",[]);Object(le.e)(i,"view.urls",[]).forEach(function(e){return Object(le.j)(e)}),this.setState({clickThroughUrls:r,hasSponsorData:!0,images:a||[],messages:n||[],isEmpty:!1})}},{key:"onSlotRenderEnded",value:function(e){e.isEmpty&&this.setState({isEmpty:!0})}},{key:"render",value:function(){var e=this.props,t=e.path,a=e.render,n=e.targeting,i=e.waitForMarquee,r=this.state,o=r.hasSponsorData,l=r.isEmpty,c=s()(r,["hasSponsorData","isEmpty"]),d=this.postMessageEventName;return o?a(c):l?null:b.a.createElement(za.j,{path:t,targeting:J()({},n,{eventName:d}),waitForMarquee:i,onSlotRenderEnded:this.onSlotRenderEnded})}}]),t}(h.Component);Qa.propTypes={addMessageListener:y.a.func.isRequired,path:y.a.string.isRequired,removeMessageListener:y.a.func.isRequired,render:y.a.func,targeting:y.a.object,waitForMarquee:y.a.bool},Qa.defaultProps={render:function(){return null},targeting:{},waitForMarquee:!1};var Ga=Object(Mt.a)(Qa),Wa=a("Xzwb"),Ja=a.n(Wa),Ya=F.a.bind(Ja.a),Za=function(e){var t=e.title,a=e.url;return b.a.createElement("div",{className:Ya("container")},b.a.createElement("h4",{className:Ya("kicker")},"Further Reading"),b.a.createElement("h3",{className:Ya("title")},b.a.createElement(I.a,{to:a},t)),b.a.createElement("div",{className:Ya("domain")},Object(Lt.e)(a)))};Za.propTypes={title:y.a.string.isRequired,url:y.a.string.isRequired},Za.defaultProps={title:"",url:""};var Ka=Za,$a=a("j6H/"),Xa=a.n($a),en=F.a.bind(Xa.a),tn=function(e){var t=e.appTheme,a=e.text;return b.a.createElement("p",{className:en("container",t),dangerouslySetInnerHTML:{__html:a}})};tn.propTypes={appTheme:y.a.string.isRequired,text:y.a.string.isRequired};var an=Object(D.a)()(tn),nn=a("VOD3"),rn=a.n(nn),sn=F.a.bind(rn.a),on=function(e){var t=e.appTheme,a=e.innerHtml,n=e.isPremium;return b.a.createElement("div",{className:sn("container",t,{premium:n}),dangerouslySetInnerHTML:{__html:a}})};on.propTypes={appTheme:y.a.string.isRequired,innerHtml:y.a.string.isRequired,isPremium:y.a.bool};var ln=Object(D.a)()(on),cn=a("prrw"),dn=a.n(cn),un=F.a.bind(dn.a),mn=function(e){var t=e.appTheme,a=e.innerHtml;return b.a.createElement("p",{className:un("container",t)},b.a.createElement("em",{dangerouslySetInnerHTML:{__html:a}}))};mn.propTypes={appTheme:y.a.string.isRequired,innerHtml:y.a.string.isRequired};var pn=Object(D.a)()(mn),fn=a("5CCQ"),gn=a("jL+i"),vn=a.n(gn),hn=F.a.bind(vn.a),bn=function(e){var t=e.image,a=e.portrait,n=e.isPremium;if(!t)return null;var i=t.sourceUrl,r=t.altText,s=a?.8333:1,o=[{breakpoint:"phone-only",url:i,width:125,height:Math.round(125/s),aspectRatio:s},{breakpoint:"tablet-portrait-up",url:i,width:175,height:Math.round(175/s),aspectRatio:s},{breakpoint:"tablet-landscape-up",url:i,width:180,height:101,aspectRatio:1.77}];return a&&(o[2].aspectRatio=s,o[2].height=Math.round(180/s)),b.a.createElement("figure",{className:hn("container",{premium:n})},b.a.createElement(fn.a,{alt:r,sources:o}))};bn.propTypes={image:E.a.featuredImage,portrait:y.a.bool.isRequired,isPremium:y.a.bool.isRequired},bn.defaultProps={portrait:!1};var kn=bn,yn=a("x/U7"),En=a.n(yn),Sn=F.a.bind(En.a),wn=function(e){var t=e.appTheme,a=e.article,n=e.className,i=e.onClick,r=e.urlParams,s=a.featuredImage,o=a.title,l=a.bulletin,c=a.link,d=a.edition,u=a.dateGmt,m=a.premium,p=Object(H.b)(u),f=Object(Lt.j)(r),g=l?"nofollow":null,v="quartzy"===t,h=m?"Member exclusive":d?d.name:null;return b.a.createElement("article",{className:Sn("container")},b.a.createElement(I.a,{to:"".concat(c).concat(f),className:Sn("link",n),onClick:i,rel:g},b.a.createElement(kn,{image:s,portrait:v,isPremium:m}),b.a.createElement("div",{className:Sn("meta")},l&&b.a.createElement(at.a,{sponsor:l.sponsor.name,context:"mid-article"}),b.a.createElement(rt.a,{tagName:"h2",text:o,context:"recirc"}),b.a.createElement("div",{className:Sn("dateline",t)},!m&&b.a.createElement("span",null,p),b.a.createElement("span",{className:Sn("edition",t,{premium:m})},h)))))};wn.propTypes={appTheme:y.a.string.isRequired,article:y.a.shape(E.a).isRequired,className:y.a.string.isRequired,onClick:y.a.func.isRequired,urlParams:y.a.object.isRequired},wn.defaultProps={className:"",urlParams:{}};var Nn=Object(Y.compose)(Object(be.x)(),Object(be.y)({onClick:ea.q}),Object(be.C)({onMount:ea.r}))(wn),xn=a("O0T8"),Rn=a.n(xn),qn=a("8AgH"),Tn=a("IYoo"),On=a.n(Tn),_n=a("XmzS"),Pn=Object(qn.a)(Nn),jn=F.a.bind(Rn.a),Fn=function(e){var t=e.posts,a=e.series;if(!t.length)return null;var n=z()(t,1)[0],i=n.ad.path,r=n.link,s={context:"Series recirc",destinationHeadline:n.title,destinationUrl:r};return b.a.createElement("div",{className:jn("container")},b.a.createElement("h3",{className:jn("title")},"More from ",b.a.createElement(I.a,{to:"".concat(Object(C.b)(a.slug),"?hww=designation_recirc")},a.name)),a.description&&b.a.createElement("div",{className:jn("description")},a.description),t.map(function(e){return b.a.createElement(Nn,{article:e,className:jn("article"),key:e.id,trackingData:s,urlParams:{hww:"recirc_mid"}})}),b.a.createElement(Pn,{path:i,className:jn("article"),id:"bulletin-ad-recirc-1",targeting:{series:a.slug,bulletin_tile:1},trackingData:s,waitForMarquee:!1}))};Fn.propTypes={posts:y.a.arrayOf(y.a.shape(E.a)).isRequired,series:E.a.series};var In=Object(X.createSelector)([function(e){return e.post1},function(e){return e.post2}],function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map(_n.a)}),Cn=function(e){var t=e.series,a=e.midArticleRecircIds;return 0===a.length?null:b.a.createElement(Y.Query,{query:On.a,variables:{id1:a[0],id2:a[1]},ssr:!1},function(e){var a=e.error,n=e.loading,i=e.data;return a||n?null:b.a.createElement(Fn,{posts:In(i),series:t})})};Cn.propTypes={midArticleRecircIds:y.a.arrayOf(y.a.string).isRequired,series:E.a.series};var Dn=Object($.b)(function(e){return{midArticleRecircIds:e.recirc.midArticleRecircIds}})(Cn),Mn=a("9GeD"),An=function(e){var t=e.amp,a=e.url,n="".concat(a,"?embed=true");return t?b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:n,width:"300",height:"415",frameBorder:"0",layout:"responsive",sandbox:"allow-scripts allow-same-origin"})):b.a.createElement("div",{className:"social-embed documentcloud-embed"},b.a.createElement("iframe",{src:n,width:"100%",height:"820",allowFullScreen:!0,frameBorder:"0"}))};An.propTypes={amp:y.a.bool.isRequired,url:y.a.string.isRequired};var Ln=Object(x.a)()(An),Bn=function(e){var t=e.url,a=e.width;return b.a.createElement("div",{className:"fb-post social-embed","data-href":t,"data-width":a})};Bn.defaultProps={width:750},Bn.propTypes={url:y.a.string.isRequired,width:y.a.number};var zn=function(e){var t=e.url;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-facebook",src:"https://cdn.ampproject.org/v0/amp-facebook-0.1.js"})),b.a.createElement("amp-facebook",{width:"552",height:"310",layout:"responsive","data-href":t}))};zn.propTypes={url:y.a.string.isRequired};var Vn=Object(x.a)(zn)(Bn),Hn=function(e){var t=e.url,a=e.width;return b.a.createElement("div",{className:"fb-video social-embed","data-allowfullscreen":"true","data-href":t,"data-show-text":"false","data-width":a})};Hn.defaultProps={width:620},Hn.propTypes={url:y.a.string.isRequired,width:y.a.number.isRequired};var Un=function(e){var t=e.url;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-facebook",src:"https://cdn.ampproject.org/v0/amp-facebook-0.1.js"})),b.a.createElement("amp-facebook",{width:"552",height:"310","data-embed-as":"video",layout:"responsive","data-href":t}))};Un.propTypes={url:y.a.string.isRequired};var Qn=Object(x.a)(Un)(Hn),Gn=function(e){var t=e.url;return b.a.createElement("div",{className:"inline-instagram social-embed"},b.a.createElement("blockquote",{className:"instagram-media","data-instgrm-captioned":!0,"data-instgrm-version":"7"},b.a.createElement("a",{href:t},t)))},Wn=function(e){var t=e.url.match(/(instagr\.am\/|instagram\.com\/p\/)(\w*\d*)/),a=z()(t,3)[2];return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-instagram",src:"https://cdn.ampproject.org/v0/amp-instagram-0.1.js"})),b.a.createElement("amp-instagram",{"data-shortcode":a,"data-captioned":!0,width:"400",height:"400",layout:"responsive"}))};Gn.propTypes=Wn.propTypes={url:y.a.string.isRequired};var Jn=Object(x.a)(Wn)(Gn),Yn=function(e){var t=e.url;return b.a.createElement("div",{className:"inline-embedly-card social-embed"},b.a.createElement("a",{className:"embedly-card",href:t},t))};Yn.propTypes={url:y.a.string.isRequired};var Zn=Yn,Kn=function(e){var t=e.url;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-reddit",src:"https://cdn.ampproject.org/v0/amp-reddit-0.1.js"})),b.a.createElement("amp-reddit",{layout:"responsive",width:"400",height:"300","data-embedtype":"post","data-src":t}))};Kn.propTypes={url:y.a.string.isRequired};var $n=Object(x.a)(Kn)(Zn),Xn=function(e){var t=e.id,a=e.access_key,n=e.mode,i=e.amp,r="https://www.scribd.com/embeds/".concat(t,"/content"),s=Object(Lt.j)({access_key:a,view_mode:n,show_recommendations:!1});return i?b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:"".concat(r).concat(s),width:"620",height:"500",frameBorder:"0",layout:"responsive",sandbox:"allow-scripts allow-same-origin"})):b.a.createElement("iframe",{src:"".concat(r).concat(s),width:"100%",height:"500",allowFullScreen:!0,frameBorder:"0"})};Xn.propTypes={id:y.a.string.isRequired,access_key:y.a.string,mode:y.a.string,amp:y.a.bool.isRequired},Xn.defaultProps={mode:"scroll"};var ei=Object(x.a)()(Xn),ti=function(e){var t=e.amp,a=e.embedUrl,n=e.resourceId,r=e.resourceType;if(t){if(n&&r){var s=mt()({},"track"===r?"data-trackid":"data-playlistid",parseInt(n,10));return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-soundcloud",src:"https://cdn.ampproject.org/v0/amp-soundcloud-0.1.js"})),b.a.createElement("amp-soundcloud",i()({},s,{layout:"fixed-height",height:"500"})))}return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:a,width:"620",height:"500",frameBorder:"0",layout:"responsive",sandbox:"allow-scripts allow-same-origin"}))}return b.a.createElement("div",{className:"soundcloud-embed social-embed"},b.a.createElement("iframe",{src:a,width:"100%",height:"300",allowFullScreen:!0,frameBorder:"0",scrolling:"no"}))};ti.propTypes={amp:y.a.bool.isRequired,embedUrl:y.a.string.isRequired,resourceId:y.a.string,resourceType:y.a.string};var ai=Object(x.a)()(ti),ni=function(e){var t=e.url,a=e.amp,n=t.replace(".com/",".com/embed/");return a?b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:n,width:"300",height:"380",frameBorder:"0",layout:"responsive",sandbox:"allow-scripts allow-same-origin"})):b.a.createElement("div",{className:"spotify-embed social-embed"},b.a.createElement("iframe",{src:n,width:"300",height:"380",allow:"encrypted-media",allowtransparency:"true",frameBorder:"0"}))};ni.propTypes={url:y.a.string.isRequired,amp:y.a.bool.isRequired};var ii=Object(x.a)()(ni),ri=function(e){var t=e.url;return b.a.createElement("div",{className:"inline-tweet social-embed"},b.a.createElement("blockquote",{className:"twitter-tweet","data-lang":"en"},b.a.createElement("a",{href:t},t)))},si=function(e){var t=e.url.match(/\/status\/([0-9]*)$/);return t?b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-twitter",src:"https://cdn.ampproject.org/v0/amp-twitter-0.1.js"})),b.a.createElement("amp-twitter",{width:"640",height:"360",layout:"responsive","data-tweetid":t[1]})):null};ri.propTypes=si.propTypes={url:y.a.string.isRequired};var oi=Object(x.a)(si)(ri),li=a("Ghfi"),ci=a.n(li),di=F.a.bind(ci.a),ui=function(e){var t=e.url,a=e.amp,n=t.match(/\.com\/([0-9]+)/);if(!n)return null;var i=z()(n,2)[1],r="https://player.vimeo.com/video/".concat(i);return a?b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:r,width:"640",height:"360",frameBorder:"0",layout:"responsive",sandbox:"allow-scripts allow-same-origin"})):b.a.createElement("div",{className:di("container")},b.a.createElement("iframe",{src:r,allowFullScreen:!0,frameBorder:"0"}))};ui.propTypes={url:y.a.string.isRequired,amp:y.a.bool.isRequired},ui.defaultProps={mode:"scroll"};var mi=Object(x.a)()(ui),pi=function(e){var t=e.url;if(!t)return null;var a=t.match(/(youtu\.be\/|youtube\.com\/.*v=)([^\?&"#'>]+)/);if(!a)return null;var n=z()(a,3)[2];return b.a.createElement(gt.a,{video:{id:n}})};pi.propTypes={url:y.a.string.isRequired};var fi=pi,gi=a("xwIy"),vi=a.n(gi),hi=F.a.bind(vi.a);function bi(e){return"https://objects.qz.com/object/".concat(e,"/embed")}var ki=function(e){var t=e.id;return b.a.createElement("div",{className:hi("container")},b.a.createElement("iframe",{src:bi(t),title:"Quartz Objects",layout:"responsive",sandbox:"allow-scripts allow-same-origin allow-popups",frameBorder:"0",allowFullScreen:!0}))},yi=function(e){var t=e.id;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-iframe",src:"https://cdn.ampproject.org/v0/amp-iframe-0.1.js"})),b.a.createElement("amp-iframe",{src:bi(t),layout:"responsive",sandbox:"allow-scripts allow-same-origin allow-popups",frameBorder:"0",allowFullScreen:!0,width:"1.6",height:"1"}))};ki.propTypes=yi.propTypes={id:y.a.string.isRequired};var Ei=Object(x.a)(yi)(ki),Si=function(e){var t=e.url;if(!t)return null;var a=t.match(/(objects.qz\.com\/.*object\/)([^\?&\/"#'>]+)/);if(!a)return null;var n=z()(a,3)[2];return b.a.createElement(Ei,{id:n})};Si.propTypes={url:y.a.string.isRequired};var wi=Si,Ni=a("HLIg"),xi=a.n(Ni),Ri=function(e){var t=e.id;return b.a.createElement(Y.Query,{query:xi.a,variables:{id:t}},function(e){var t=e.data.mediaItems;if(!t||!t.nodes.length)return null;var a=z()(t.nodes,1)[0],n=a.mediaDetails,r=n.height,o=n.width,l=s()(a,["mediaDetails"]);return b.a.createElement(Ca,i()({height:r,width:o,size:"large"},l))})};Ri.propTypes={id:y.a.number.isRequired};var qi=Ri,Ti=function(e){var t=e.ids;return b.a.createElement(h.Fragment,null,t.split(/[,\\s]+/).map(function(e){return b.a.createElement(qi,{id:parseInt(e,10),key:e})}))};Ti.propTypes={ids:y.a.string.isRequired},Ti.defaultProps={ids:""};var Oi=Ti,_i=a("Km1T"),Pi=a("43L4"),ji=function(e){switch(e){case"EMBED_ATLAS":case"SHORTCODE_QZ_ATLAS":return{component:Mn.a,script:Pi.a};case"EMBED_DOCUMENTCLOUD":return{component:Ln};case"EMBED_TWITTER":case"SHORTCODE_TWITTER_TIMELINE":return{component:oi,script:Pi.e};case"EMBED_YOUTUBE":case"SHORTCODE_YOUTUBE":case"EMBED_WPCOM_YOUTUBE_EMBED_CRAZY_URL":return{component:fi};case"EMBED_FACEBOOK_ALTERNATE":case"EMBED_FACEBOOK_PHOTO":case"SHORTCODE_QZ_FACEBOOK_POST":return{component:Vn,script:Pi.c};case"EMBED_FACEBOOK_ALTERNATE_VIDEO":case"EMBED_FACEBOOK_VIDEO":case"SHORTCODE_QZ_FACEBOOK_VIDEO":return{component:Qn,script:Pi.c};case"SHORTCODE_INSTAGRAM":case"EMBED_JETPACK_INSTAGRAM":case"EMBED_JETPACK_INSTAGRAM_ALTERNATE_FORMAT":return{component:Jn,script:Pi.d};case"EMBED_VIMEO":case"EMBED_WPCOM_VIMEO_EMBED_URL":return{component:mi};case"EMBED_QZ_OBJECT":return{component:wi};case"EMBED_REDDIT":return{component:$n,script:Pi.b};case"EMBED_SOUNDCLOUD":return{component:ai};case"EMBED_SPOTIFY":return{component:ii};case"SHORTCODE_SCRIBD":return{component:ei};case"SHORTCODE_GALLERY":return{component:Oi};default:return{}}},Fi=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).maybeLoadScript=a.maybeLoadScript.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"maybeLoadScript",value:function(){var e=this.props.visible,t=ji(this.props.type).script;e&&t&&t()}},{key:"componentDidMount",value:function(){this.maybeLoadScript()}},{key:"componentDidUpdate",value:function(){this.maybeLoadScript()}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.setRef,n=e.visible,i=s()(e,["type","setRef","visible"]),r=ji(t).component;return r?n?b.a.createElement(r,i):b.a.createElement("div",{ref:a}):null}}]),t}(b.a.Component);Fi.propTypes={type:y.a.string.isRequired,visible:y.a.bool.isRequired,setRef:y.a.func.isRequired};var Ii=Object(_i.a)({rootMargin:300})(Fi),Ci=a("XxBT"),Di=a.n(Ci),Mi=F.a.bind(Di.a),Ai=function(e){var t=e.loop,a=e.src;return b.a.createElement("audio",{className:Mi("player"),controls:!0,src:a,loop:t})},Li=function(e){var t=e.loop,a=e.src;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-audio",src:"https://cdn.ampproject.org/v0/amp-audio-0.1.js"})),b.a.createElement("amp-audio",{controls:"",loop:Object(q.a)(t),src:a}))};Ai.propTypes=Li.propTypes={loop:y.a.bool.isRequired,src:y.a.string.isRequired},Ai.defaultProps=Li.defaultProps={loop:!1};var Bi=Object(x.a)(Li)(Ai),zi=a("w+J7"),Vi=a.n(zi),Hi=F.a.bind(Vi.a),Ui=function(e){var t=e.autoplay,a=e.controls,n=e.loop,i=e.playsinline,r=e.poster,s=e.preload,o=e.size,l=e.src;return b.a.createElement("video",{autoPlay:t,className:Hi("container","alignleft",o),controls:a,loop:n,muted:t,playsInline:i,poster:r,preload:s,src:l})},Qi=function(e){var t=e.autoplay,a=e.controls,n=e.height,i=e.loop,r=e.poster,s=e.src,o=e.width;return b.a.createElement(h.Fragment,null,b.a.createElement(N.a,null,b.a.createElement("script",{async:void 0,"custom-element":"amp-video",src:"https://cdn.ampproject.org/v0/amp-video-0.1.js"})),b.a.createElement("amp-video",{autoPlay:Object(q.a)(t),controls:Object(q.a)(a),loop:Object(q.a)(i),poster:r,src:s,width:o,height:n,layout:"responsive"}))},Gi={autoplay:y.a.bool.isRequired,controls:y.a.bool.isRequired,loop:y.a.bool.isRequired,poster:y.a.string.isRequired,src:y.a.string.isRequired},Wi={autoplay:!1,controls:!0,loop:!1,poster:""};Ui.propTypes=J()({},Gi,{playsinline:y.a.bool.isRequired,preload:y.a.string.isRequired,size:y.a.oneOf(["medium","large","extra-large"]).isRequired}),Ui.defaultProps=J()({},Wi,{playsinline:!0,preload:"auto",size:"medium"}),Qi.propTypes=J()({},Gi,{height:y.a.number.isRequired,width:y.a.number.isRequired}),Qi.defaultProps=J()({},Wi,{height:800,width:450});var Ji=Object(x.a)(Qi)(Ui),Yi=a("8iC8"),Zi=function(e){for(var t=0,a=0,n=0;n<e.length;n++){if("P"===e[n].type)(e[n].attributes||[]).reduce(function(e,t){return J()({},e,mt()({},t.name,t.value))},{}).characterCount>=140&&t++;if(2===t){a=n+1;break}}return a},Ki=function(e,t,a){var n=["AD","SHORTCODE_QZ_INLINE_AD"];if(e[t-1]&&"P"!==e[t-1].type||e[t]&&"P"!==e[t].type)return!1;if(a){for(var i=t-4;i<t;i++)if(e[i]&&n.includes(e[i].type))return!1;for(var r=t+4;r>t;r--)if(e[r]&&n.includes(e[r].type))return!1}return!0},$i=function(e,t){e.splice(t,0,{type:"AD"})},Xi=function(e){var t=K()(e),a=Zi(e);if(0===a)return t;for(var n=function(e){return e.length-Zi(e.reverse())+1}(K()(e)),i=0,r=a;r<n;r++)i<5&&Ki(t,r,i)&&($i(t,r),i++,n++);return t},er=function(e){return function(t){if(0===e.length)return t;var a=[],n=0;return t.forEach(function(t){var i=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/\<a.+?class\=\"footnote\"/g)||[]).length}(t.innerHtml);if(a.push(t),"P"===t.type)for(var r=0;r<i;r++)a.push({type:"FOOTNOTE",footnote:e[n],footnoteIndex:n}),n++}),a}},tr=0,ar=function(e){var t=e.ad,a=t.path,n=t.targeting,r=e.blocks,o=e.cx,l=e.isCollapsed,c=e.isPremium,d=e.isSeries,u=e.onExpand,m=e.footnotes,p=e.series,f=e.postId,g=e.bulletin,v=e.suppressAds,h=e.waitForMarquee,k=e.isWorkGuide,E=e.amp,S=e.footnoteTracker,w=e.setFootnoteRef,N=[er(m)];c||N.unshift(Xi);var x=N.reduce(function(e,t){return t(e)},r),R=function(e){return!e.some(function(e){var t=e.blockProps,a=e.type;return"SHORTCODE_PULLQUOTE"===a||"SHORTCODE_CAPTION"===a&&["small","large","extra-large"].includes(t.size)})}(x),q=x.map(function(e,t){var r=e.attributes,d=e.blockProps,u=e.innerHtml,m=e.type;switch(m){case null:break;case"SHORTCODE_SERIES_RECIRC":if(p&&p.slug)return b.a.createElement(Dn,i()({key:t,series:p},e));break;case"SHORTCODE_QZ_INTERACTIVE":var y=d.size,N=d.url;return b.a.createElement(Vt,{id:"".concat(f,"-interactive-").concat(t),isPremium:c,key:t,size:y,src:N});case"AD":case"SHORTCODE_QZ_INLINE_AD":if(l||g||v)return null;var x={id:"inline-".concat(++tr),key:t,path:a,targeting:J()({},n,{tile:tr}),waitForMarquee:h,className:"article-content-ad"};return R?b.a.createElement(za.f,x):b.a.createElement(za.e,x);case"SHORTCODE_PULLQUOTE":return b.a.createElement(ln,i()({key:t,isPremium:c},e));case"SHORTCODE_AUDIO":var q=d.loop,T=d.ogg,O=d.m4a,_=d.mp3,P=d.src,j=d.wav,F=d.wma,I=s()(d,["loop","ogg","m4a","mp3","src","wav","wma"]);return b.a.createElement(Bi,i()({key:t,loop:q,src:P||O||_||T||j||F},I));case"SHORTCODE_VIDEO":var C=d.autoplay,D=d.controls,M=d.loop,A=d.mp4,L=d.src,B=s()(d,["autoplay","controls","loop","mp4","src"]);return b.a.createElement(Ji,i()({key:t,autoplay:"on"===C,controls:"on"===D||"on"!==C,loop:"on"===M,src:A||L},B));case"FOOTNOTE":return b.a.createElement(Ba,{key:t,block:e,show:S[e.footnoteIndex],setRef:w});case"highlight":return b.a.createElement(an,i()({key:t},e));case"HR":return b.a.createElement(Ta,{key:t});case"SHORTCODE_ENDMATTER":return b.a.createElement(pn,i()({key:t},e));case"SHORTCODE_CAPTION":return d.height=parseInt(d.height,10)||1,d.width=parseInt(d.width,10)||1,b.a.createElement(Ca,i()({key:t,isPremium:c},d));case"SHORTCODE_QZ_FURTHER_READING":return b.a.createElement(Ka,i()({key:t},d));case"EMBED_ATLAS":case"EMBED_DOCUMENTCLOUD":case"EMBED_FACEBOOK_ALTERNATE":case"EMBED_FACEBOOK_ALTERNATE_VIDEO":case"EMBED_FACEBOOK_PHOTO":case"EMBED_FACEBOOK_VIDEO":case"EMBED_JETPACK_INSTAGRAM":case"EMBED_JETPACK_INSTAGRAM_ALTERNATE_FORMAT":case"EMBED_QZ_OBJECT":case"EMBED_REDDIT":case"EMBED_SOUNDCLOUD":case"EMBED_SPOTIFY":case"EMBED_TWITTER":case"EMBED_VIMEO":case"EMBED_WPCOM_VIMEO_EMBED_URL":case"EMBED_WPCOM_YOUTUBE_EMBED_CRAZY_URL":case"EMBED_YOUTUBE":case"SHORTCODE_GALLERY":case"SHORTCODE_INSTAGRAM":case"SHORTCODE_QZ_FACEBOOK_POST":case"SHORTCODE_QZ_FACEBOOK_VIDEO":case"SHORTCODE_QZ_ATLAS":case"SHORTCODE_SCRIBD":case"SHORTCODE_TWITTER_TIMELINE":case"SHORTCODE_YOUTUBE":return["width","height"].forEach(function(e){d[e]&&(d[e]=parseInt(d[e],10))}),void 0!==d.key&&(d.access_key=d.key,delete d.key),b.a.createElement(Ii,i()({key:t,type:m},d));case"P":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"OL":case"UL":case"PRE":case"FIGURE":case"BLOCKQUOTE":case"TABLE":var z=b.a.createElement(Na,{type:m.toLowerCase(),innerHtml:u,attributes:r||[],isWorkGuide:k,key:t,amp:E});return"TABLE"===m?b.a.createElement("div",{className:o("scrollable-container")},z):z;default:return null}}),T=function(e){var t=e.messages;return t.length?b.a.createElement("p",{className:o("sponsor-message")},t[0].text):null};return T.propTypes={messages:y.a.arrayOf(y.a.shape({text:y.a.string}))},d&&q.push(b.a.createElement(Ga,{path:a,key:q.length+1,render:T,targeting:n,waitForMarquee:h})),l&&q.push(b.a.createElement(Yi.a,{"aria-expanded":!1,key:q.length+1,text:"Read full story",buttonType:"primary",onClick:u,context:"article-content"})),q};ar.propTypes={ad:E.a.ad,blocks:E.a.blocks,cx:y.a.func.isRequired,isCollapsed:y.a.bool.isRequired,onExpand:y.a.func.isRequired,footnotes:E.a.footnotes,series:E.a.series,postId:E.a.postId,bulletin:E.a.bulletin,suppressAds:E.a.suppressAds,waitForMarquee:y.a.bool.isRequired,isPremium:y.a.bool.isRequired,isWorkGuide:y.a.bool.isRequired,amp:y.a.bool.isRequired,footnoteTracker:y.a.arrayOf(y.a.bool)};var nr=ar,ir=a("vgG7"),rr=function(e){var t=e.id,a=e.userHasPermission;return a(ir.p)&&a(ir.m,t)},sr={context:"Membership email exchange",formName:ea.b,stageName:"convertedArticle"},or=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state=a.getInitialState(),a}return v()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.setState(this.getInitialState())}},{key:"getInitialState",value:function(){return{hasConverted:!1,hasPermission:rr(this.props)}}},{key:"render",value:function(){return this.state.hasConverted?b.a.createElement(Zt.a,{trackingData:sr}):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===t.hasPermission&&rr(e)?{hasConverted:!0,hasPermission:!0}:null}}]),t}(h.Component);or.propTypes={id:y.a.string.isRequired};var lr=Object(Y.compose)(Object(be.A)())(or),cr=function(e){var t=function(t){function a(e){var t;return l()(this,a),(t=m()(this,f()(a).call(this,e))).contentRef=null,t.footnotesRefs={},t.state={footnotes:[]},t.configureFootnotes=t.configureFootnotes.bind(ft()(ft()(t))),t.setContentRef=t.setContentRef.bind(ft()(ft()(t))),t.setFootnoteRef=t.setFootnoteRef.bind(ft()(ft()(t))),t}return v()(a,t),d()(a,[{key:"componentDidUpdate",value:function(e){e.postId!==this.props.postId&&this.configureFootnotes()}},{key:"componentDidMount",value:function(){this.configureFootnotes()}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"setFootnoteRef",value:function(e){var t=this;return function(a){return t.footnotesRefs["footnote_".concat(e+1)]=a}}},{key:"configureFootnotes",value:function(){var e=this,t=this.contentRef.querySelectorAll(".footnote"),a=Array.prototype.map.call(t,function(t){var a=t.getAttribute("data-number");return t.addEventListener("click",function(t){t.preventDefault();var n=e.state.footnotes,i=K()(n);i[a-1]=!n[a-1],e.setState({footnotes:i})}),!1});this.setState({footnotes:a})}},{key:"render",value:function(){return b.a.createElement(e,i()({footnoteTracker:this.state.footnotes,setContentRef:this.setContentRef,setFootnoteRef:this.setFootnoteRef},this.props))}}]),a}(b.a.Component);return t.propTypes={postId:y.a.number.isRequired},t},dr=F.a.bind(Ut.a),ur=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).expand=a.expand.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"expand",value:function(){(0,this.props.collapsedHandler)(!1)}},{key:"render",value:function(){var e=this.props,t=e.amp,a=e.ad,n=e.appTheme,i=e.blocks,r=e.bulletin,s=e.collapsed,o=e.featuredImageSize,l=e.footnotes,c=e.footnoteTracker,d=e.id,u=e.isApp,m=e.isPaywalled,p=e.isPremium,f=e.isSeries,g=e.isVideo,v=e.isWorkGuide,h=e.postId,k=e.series,y=e.setContentRef,E=e.setFootnoteRef,S=e.showCTAExperiment,w=e.showEmailExchangeCTA,N=e.showLogin,x=e.showSidebar,R=e.suppressAds,q=e.tags,T=e.topic,O=e.waitForMarquee,_=s&&!t&&!p,P=k.colors;return b.a.createElement("div",{className:dr("container",{app:u,premium:p})},!t&&k&&P&&b.a.createElement(Qt.a,{colors:P}),b.a.createElement("div",{className:dr("content",n,{guide:v,collapsed:_,premium:p,paywalled:m,video:g}),ref:function(e){return y(e)}},b.a.createElement(nr,{blocks:i,footnotes:l,series:k,postId:h,isCollapsed:_,isPremium:p,isSeries:f,onExpand:this.expand,bulletin:r,suppressAds:R,ad:a,waitForMarquee:O,isWorkGuide:v,amp:t,cx:dr,footnoteTracker:c,setFootnoteRef:E})),m&&b.a.createElement(la,{id:d,showCTAExperiment:S,showEmailExchangeCTA:w,showLogin:N,isVideo:g}),x&&b.a.createElement(ba,{edition:n,featuredImageSize:o,series:k,tags:q,topic:T}),b.a.createElement(lr,{id:d}))}}]),t}(b.a.Component);ur.propTypes={amp:y.a.bool.isRequired,ad:E.a.ad,appTheme:y.a.string,blocks:E.a.blocks,bulletin:E.a.bulletin,collapsed:y.a.bool.isRequired,collapsedHandler:y.a.func.isRequired,featuredImageSize:E.a.featuredImageSize,footnotes:E.a.footnotes,footnoteTracker:y.a.arrayOf(y.a.bool),id:E.a.id,isApp:y.a.bool.isRequired,isPaywalled:y.a.bool.isRequired,isPremium:y.a.bool.isRequired,isSeries:y.a.bool.isRequired,isVideo:y.a.bool.isRequired,isWorkGuide:y.a.bool.isRequired,postId:E.a.postId,series:E.a.series,setContentRef:y.a.func,setFootnoteRef:y.a.func,showCTAExperiment:y.a.bool.isRequired,showEmailExchangeCTA:y.a.bool.isRequired,showLogin:y.a.bool.isRequired,showSidebar:y.a.bool.isRequired,suppressAds:y.a.bool,tags:E.a.tags,topic:E.a.topic,waitForMarquee:y.a.bool.isRequired};var mr=Object(Y.compose)(Object(be.d)(),Object(be.x)(),cr)(ur),pr=a("05WB"),fr=a("eZVL"),gr=a("F50p"),vr=a.n(gr),hr=F.a.bind(vr.a),br=function(e){var t=e.authors,a=e.bulletin,n=e.dateGmt,i=e.excerpt,r=e.isPremium,s=e.link,o=e.summary,l=e.title,c="".concat(o),d=z()(t,1)[0],u=d?d.name:"",m=a?"bulletin":"article",p=b.a.createElement(pr.a,{dateGmt:n,showRelativeDate:!1});return b.a.createElement("footer",{className:hr("container")},r?b.a.createElement("div",{className:hr("timestamp")},"This story was first published ",p,"."):null,b.a.createElement("div",{className:hr("share-tools-container",{twoColumnLayout:!r})},b.a.createElement(fr.a,{author:u,context:m,description:c,excerpt:i,title:l,link:s})))},kr=E.a.authors,yr=E.a.bulletin,Er=E.a.dateGmt,Sr=E.a.excerpt,wr=E.a.link,Nr=E.a.summary,xr=E.a.title;br.propTypes={isPremium:y.a.bool.isRequired,authors:kr,bulletin:yr,dateGmt:Er,excerpt:Sr,link:wr,summary:Nr,title:xr},br.defaultProps={authors:[],isPremium:!1};var Rr=Object(D.a)()(br),qr=a("+CKk"),Tr=a("g6MR"),Or=a.n(Tr),_r=a("E5nK"),Pr=a("AIYk"),jr=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).validateVariants(),a.startExperiment(),a}return v()(t,e),d()(t,[{key:"getVariant",value:function(){var e=this.props,t=e.children;return(0,e.resolver)(t,e.segmentValue)}},{key:"onError",value:function(e){throw new Error(e)}},{key:"componentDidUpdate",value:function(){this.startExperiment()}},{key:"shouldComponentUpdate",value:function(e){return e.id!==this.props.id}},{key:"startExperiment",value:function(){var e=this.props,t=e.name,a=e.startExperiment,n=e.experimentId,i=this.getVariant().props,r=i.variant;a({name:t,split:i.split,startTime:(new Date).getTime(),variant:r,experimentId:n})}},{key:"validateVariants",value:function(){var e=this,t=this.props,a=t.children,n=t.segmentCount,i=h.Children.toArray(a),r=100/n,s=i.reduce(function(t,a){var i=a.props.split;return i%r&&e.onError("Variant weight of ".concat(i," is not compatible with ").concat(n," segments.")),t+i},0);100!==s&&this.onError("Total weight of variants is ".concat(s,"; expected 100."))}},{key:"render",value:function(){return this.getVariant()}}]),t}(h.Component);jr.propTypes={children:y.a.node,name:y.a.string.isRequired,resolver:y.a.func.isRequired,segmentCount:y.a.number.isRequired,segmentValue:y.a.number.isRequired,startExperiment:y.a.func.isRequired,experimentId:y.a.string.isRequired,id:y.a.string},jr.defaultProps={children:null,resolver:function(e,t){var a=h.Children.toArray(e);return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=a[i];if(!r)return a[0]||null;var s=r.props.split/100;return t>=n&&t<n+s?r:e(n+s,i+1)}()}};var Fr=Object($.b)(function(e){return{segmentCount:e.experiments.segmentCount,segmentValue:e.experiments.segmentValue}},function(e){return{startExperiment:function(t){e(Object(Pr.c)(_r.a.testing.group)),e(function(e){return{type:"START_EXPERIMENT",experiment:e}}(t))}}})(jr),Ir=function(e){return e.children||null};Ir.propTypes={children:y.a.node,name:y.a.string.isRequired,split:y.a.number.isRequired,variant:y.a.number.isRequired};var Cr=Ir,Dr=F.a.bind(Or.a),Mr=!1,Ar=function(e){function t(e){var a;return l()(this,t),(a=m()(this,f()(t).call(this,e))).state={visible:!1},a.onClose=a.onClose.bind(ft()(ft()(a))),a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;Mr||setTimeout(function(){return e.setState({visible:!0})},2e3)}},{key:"componentDidUpdate",value:function(e){this.props.trackingContext!==e.trackingContext&&this.setState({visible:!0})}},{key:"onClose",value:function(e){e.preventDefault(),e.stopPropagation(),Mr=!0,this.setState({visible:!1})}},{key:"render",value:function(){var e=this.props,t=e.linkDestination,a=e.primaryText,n=e.secondaryText,i=e.trackingContext,r=this.state.visible;return b.a.createElement("div",{"aria-labelledby":"subscribe-bar-primary-text",className:Dr("container",{visible:r}),role:"dialog"},b.a.createElement("div",{className:Dr("inner-container")},b.a.createElement(Nt.c,{style:"inline",trackingContext:i,url:t},b.a.createElement("span",{id:"subscribe-bar-primary-text",className:Dr("primary-text")},a),b.a.createElement("span",{className:Dr("secondary-text")},n))),b.a.createElement("button",{className:Dr("close"),onClick:this.onClose,type:"button"},b.a.createElement("span",{className:Dr("label")},"Close")))}}]),t}(h.Component);Ar.propTypes={linkDestination:y.a.string.isRequired,primaryText:y.a.string.isRequired,secondaryText:y.a.string.isRequired,trackingContext:y.a.string.isRequired},Ar.defaultProps={promo:!1};var Lr=function(e){var t=e.userHasPermission;return t(ir.t)?t(ir.r)?b.a.createElement(Ar,{primaryText:"Subscribe today for 45% off",secondaryText:"See my options",trackingContext:"Membership email exchange"}):b.a.createElement(Fr,{name:"Subscribe bar site-wide test",experimentId:"DUPjRZ3LRlKrRFivYXWVCw"},b.a.createElement(Cr,{name:"None",variant:0,split:50},null),b.a.createElement(Cr,{name:"Member home",variant:1,split:25},b.a.createElement(Ar,{linkDestination:"/members/",primaryText:"Become a Quartz member",secondaryText:"Try it for free",trackingContext:"Footer subscribe bar"})),b.a.createElement(Cr,{name:"Marketing page",variant:2,split:25},b.a.createElement(Ar,{linkDestination:"/become-a-member/",primaryText:"Become a Quartz member",secondaryText:"Try it for free",trackingContext:"Footer subscribe bar"}))):null};Lr.propTypes={userHasPermission:y.a.func.isRequired};var Br=Object(Y.compose)(Object(be.d)(),Object(be.A)())(Lr),zr=a("4NqT"),Vr=function(e){var t=e.article,a=e.amp,n=e.appTheme;if(!a)return null;var i={event:"PageLoad",PageType:"article",Edition:n},r=Object(zr.b)(t),s={vars:J()({},i,r)};return b.a.createElement("amp-analytics",{config:"https://www.googletagmanager.com/amp.json?id=GTM-W7T9HM2&gtm.url=SOURCE_URL","data-credentials":"include"},b.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}))};Vr.propTypes={article:y.a.object.isRequired,amp:y.a.bool.isRequired,appTheme:y.a.string.isRequired};var Hr=Object(Y.compose)(Object(x.a)())(Vr),Ur=a("T8Nn"),Qr=a.n(Ur),Gr=a("uPRr"),Wr=a.n(Gr),Jr=a("Uukh"),Yr=a.n(Jr),Zr=F.a.bind(Yr.a),Kr=function(e){var t=e.appTheme,a=e.article,n=e.isLoggedIn;return b.a.createElement("div",{className:Zr("container")},b.a.createElement("div",{className:Zr("kicker",t)},"Read This Next",!n&&b.a.createElement("span",null," In ",b.a.createElement(I.a,{to:"/become-a-member/"},"Quartz Membership"))),b.a.createElement(Nn,{article:a,trackingData:{context:"Read this next",destinationHeadline:a.title,destinationUrl:a.link}}))};Kr.propTypes={appTheme:y.a.string.isRequired,article:y.a.shape(E.a).isRequired,isLoggedIn:y.a.bool.isRequired};var $r=Object(me.g)("menuItems.edges"),Xr=function(e){var t=e.appTheme,a=e.readNext,n=e.amp,r=s()(e,["appTheme","readNext","amp"]),o=(0,r.userHasPermission)(ir.j),l=Wr.a,c={},d=null;o&&(l=Qr.a,c={id:z()(a,1)[0]});return b.a.createElement(Y.Query,{query:l,variables:c,ssr:!!n},function(e){var a=e.error,n=e.loading,s=e.data;if(a||n)return null;if(o)d=Object(_n.a)(s.post);else{var l=$r(s),c=Math.floor(Math.random()*l.length);d=l[c]}return d?b.a.createElement(Kr,i()({appTheme:t,article:d,isLoggedIn:o},r)):null})};Xr.propTypes={amp:y.a.bool.isRequired,appTheme:y.a.string.isRequired,readNext:y.a.arrayOf(y.a.string),user:y.a.object.isRequired};var es=Object(Y.compose)(Object(be.d)(),Object(be.x)(),Object(be.A)())(Xr),ts=a("dCHr"),as=a("H6Cy"),ns=a("xBCN"),is=a.n(ns),rs=a("QsmG"),ss=a("CEZz"),os=a.n(ss),ls=a("8JqY"),cs=F.a.bind(is.a),ds=function(e){var t=e.name,a=e.shortDescription,n=e.featuredImage,i=e.link,r=e.setRef,s=e.visible,o=e.urlParams,l=Object(Lt.j)(o);return b.a.createElement("div",{className:cs("container",{visible:s}),ref:r},b.a.createElement(I.a,{to:"".concat(i).concat(l),className:cs("link")},n&&b.a.createElement("figure",{className:cs("image")},b.a.createElement(ls.a,n)),b.a.createElement("div",{className:cs("meta")},b.a.createElement("div",{className:cs("kicker")},"You are reading"),b.a.createElement("h3",{className:cs("title")},t,b.a.createElement(os.a,{className:cs("right-arrow")})))),a&&b.a.createElement("p",{className:cs("description")},a))};ds.propTypes={featuredImage:y.a.shape().isRequired,link:y.a.string.isRequired,name:y.a.string.isRequired,setRef:y.a.func,shortDescription:y.a.string,urlParams:y.a.object.isRequired,visible:y.a.bool.isRequired},ds.defaultProps={onClick:function(){},urlParams:{}};var us=Object(Y.compose)(Object(rs.a)("id"),Object(_i.a)({initialVisibility:!0,threshold:.05,shouldUpdate:function(e,t){return e.id!==t.id}}))(ds),ms=a("9mqA"),ps=a.n(ms),fs=F.a.bind(ps.a),gs=function(e){var t=e.taxonomy,a=e.loading,n=e.posts,i=e.postId;return a?null:b.a.createElement("div",{className:fs("container")},b.a.createElement(us,t),n.map(function(e,t){return b.a.createElement(ae.a,{context:"toc",size:"small",element:e,key:e.postId,ordinal:Object(le.l)(t+1),selected:i===e.postId})}))};gs.propTypes={taxonomy:y.a.oneOf([y.a.shape(E.a.guide),y.a.shape(E.a.series)]),posts:y.a.arrayOf(E.a),postId:y.a.number.isRequired};var vs,hs=(vs=gs,function(e){var t,a,n=e.guide,r=e.series,o=s()(e,["guide","series"]);n&&n.slug&&(t=ts.a,a=n),r&&r.slug&&(t=as.a,a=r);var l=Object(Y.compose)(t(),Object(be.t)(function(e){var t=e.guide,a=e.series;return{taxonomy:t||a}}))(vs);return b.a.createElement(l,i()({slug:a.slug},o))}),bs=a("7juF"),ks=a.n(bs),ys=F.a.bind(ks.a),Es=function(e){var t=e.appTheme,a=e.tags;if(!a.length)return null;var n=(a.length>5?a.slice(a.length-5):a).map(function(e,t){return b.a.createElement(I.a,{key:t,to:"/re/".concat(e.slug,"/")},e.name)}).reverse().reduce(function(e,t){return[e,", ",t]});return b.a.createElement("div",{className:ys("container",t)},n)};Es.propTypes={appTheme:y.a.string.isRequired,tags:E.a.tags},Es.defaultProps={isPremium:!1};var Ss=Object(Y.compose)(Object(be.x)())(Es),ws=a("ln3U"),Ns=a.n(ws),xs=F.a.bind(Ns.a),Rs=function(e){var t=e.guide,a=e.isGuide,n=e.isPremium,i=e.isSeries,r=e.postId,s=e.readNext,o=e.series,l=e.tags,c=a||i&&"because-china"===o.slug;return b.a.createElement("div",{className:xs("container",{twoColumnLayout:!n})},b.a.createElement("div",{className:xs("inner",{twoColumnLayout:!n})},b.a.createElement(Ss,{isPremium:n,tags:l}),c?b.a.createElement(hs,{postId:r,guide:t,series:o}):b.a.createElement(es,{readNext:s,twoColumnLayout:!n})))};Rs.propTypes={guide:E.a.guide,isGuide:y.a.bool.isRequired,isPremium:y.a.bool.isRequired,isSeries:y.a.bool.isRequired,postId:E.a.postId,readNext:E.a.readNext,series:E.a.series,tags:E.a.tags};var qs=Rs,Ts=a("iNrU"),Os=a("BRVZ"),_s=Object(qn.a)(ae.a);var Ps=function(e){function t(){return l()(this,t),m()(this,f()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props.article.trackingUrls;e&&e.forEach(le.j)}},{key:"render",value:function(){var e=this.props,t=e.appTheme,a=e.article,n=e.article.featuredImage,r=e.collapsed,o=e.collapsedHandler,l=e.loading,c=e.location,d=e.setScrollEl,u=e.qualifiers,m=e.userHasPermission,p=a.suppressAds,f=a.ad,g=a.video,v=a.interactive,k=a.trailerVideo,y=s()(a,["suppressAds","ad","video","interactive","trailerVideo"]),E=u.isBulletin,S=u.isInteractive,w=u.isPremium,N=u.isSeries,x=u.isVideo,R=u.showHeader,q=u.showFooter,T=u.showRecirc,_=!w,P=function(e){var t=e.ad,a=t.path,n=t.targeting,i=e.isBulletin,r=e.isPremium,s=e.suppressAds,o=e.waitForMarquee,l=s?"":a;return{marquee:i||s||r?null:b.a.createElement(Ts.b,{path:l,targeting:n}),spotlight:s||r?null:b.a.createElement(Os.a,{path:l,id:"spotlight-1",targeting:J()({},n,{tile:1}),waitForMarquee:o}),recircBulletin:s?null:b.a.createElement(_s,{path:l,dataProp:"element",id:"bulletin-ad-1",key:"bulletin-1",targeting:J()({},n,{bulletin_tile:2}),waitForMarquee:o}),engage:s||r?null:b.a.createElement(za.c,{path:l,id:"engage-1",targeting:J()({},n,{tile:1}),waitForMarquee:o})}}({isBulletin:E,suppressAds:p,isPremium:w,ad:f,waitForMarquee:_}),j=P.marquee,F=P.spotlight,I=P.recircBulletin,C=P.engage;return b.a.createElement(h.Fragment,null,b.a.createElement(O,{article:a}),j,N&&!x&&b.a.createElement(L,{series:a.series}),b.a.createElement("article",{ref:d},R&&b.a.createElement(dt,i()({},y,u)),!R&&E&&b.a.createElement(at.a,{image:a.bulletin.campaign.logo,link:a.bulletin.clientTracking.logo,sponsor:a.bulletin.sponsor.name,context:"interactive"}),x&&b.a.createElement(It,i()({video:g,trailerVideo:k,userHasPermission:m,featuredImage:n},u)),S&&b.a.createElement(Vt,v),b.a.createElement(mr,i()({ad:f,collapsed:r,collapsedHandler:o,suppressAds:p,waitForMarquee:_},y,u)),q&&b.a.createElement(Rr,i()({},y,u))),b.a.createElement(qs,i()({},y,u)),T&&b.a.createElement(h.Fragment,null,F,b.a.createElement(Me,{article:a,engage:C,isBulletin:E,recircBulletin:I})),b.a.createElement(qr.a,{pageType:E?"bulletin":"article",pageName:a.title,data:{article:a},loading:l,location:c}),b.a.createElement(Hr,{article:a,appTheme:t,location:c}),b.a.createElement(G,{article:a}),b.a.createElement(Br,null))}}]),t}(h.PureComponent);Ps.propTypes={appTheme:y.a.string.isRequired,article:y.a.shape(E.a).isRequired,collapsed:y.a.bool.isRequired,collapsedHandler:y.a.func.isRequired,loading:y.a.bool.isRequired,location:y.a.object.isRequired,recircData:y.a.shape(S.a),setScrollEl:y.a.func.isRequired,userHasPermission:y.a.func.isRequired,qualifiers:y.a.object.isRequired};t.a=Object(Y.compose)(Object(be.e)(),Object(be.g)({milestones:8}))(Ps)},xnIu:function(e,t,a){e.exports={container:"e65a1","mobile-full-width":"ab273",mobileFullWidth:"ab273",work:"d96f8",large:"_23f7e","extra-large":"_6dd5f",extraLarge:"_6dd5f",portrait:"_47a20","image-container":"ec022",imageContainer:"ec022",caption:"f368c",credit:"_998d9"}},xwIy:function(e,t,a){e.exports={container:"f8c9f"}},zSjg:function(e,t,a){"use strict";var n=a("lwsE"),i=a.n(n),r=a("W8MJ"),s=a.n(r),o=a("a1gu"),l=a.n(o),c=a("Nsbk"),d=a.n(c),u=a("7W2i"),m=a.n(u),p=a("PJYZ"),f=a.n(p),g=a("q1tI"),v=a.n(g),h=a("17x9"),b=a.n(h),k=a("F5l7"),y=a("EhDK"),E=a.n(y),S=a("UbMB"),w=a.n(S),N=a("rddA"),x=a("Km1T"),R=a("oJmH"),q=w.a.bind(E.a),T=function(e){function t(e){var a;return i()(this,t),(a=l()(this,d()(t).call(this,e))).state={loaded:e.visible||!e.lazyLoad,src:e.src},a.onLoad=a.onLoad.bind(f()(f()(a))),a}return m()(t,e),s()(t,[{key:"onLoad",value:function(){this.state.loaded||(this.props.onLoad&&this.props.onLoad(),this.setState({loaded:!0}))}},{key:"render",value:function(){var e={},t=this.state.loaded,a=this.props,n=a.width,i=a.height,r=a.src,s=a.title,o=a.alt,l=a.srcSet,c=a.sizes,d=a.children,u=a.className,m=a.amp,p=a.lazyLoad,f=a.visible,g=a.disableBackground,h=a.setRef,b=n/i;if(b&&!m){var y=100/b;e.paddingBottom="".concat(y,"%")}var E='<img src="'.concat(r,'" alt="').concat(o,'" />');return v.a.createElement("div",{className:q("container",u,{loaded:t,disableBackground:g,visible:f}),style:e,ref:h},f&&v.a.createElement(k.a,{alt:o,height:i,onLoad:this.onLoad,sizes:c,src:r,srcSet:l,title:s,width:n}),p&&!m&&v.a.createElement("noscript",{dangerouslySetInnerHTML:{__html:E}}),d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.src!==t.src?{loaded:!e.lazyLoad,src:e.src}:null}}]),t}(v.a.Component);T.defaultProps={sizes:[],disableBackground:!1},T.propTypes={className:b.a.string,width:b.a.number.isRequired,height:b.a.number.isRequired,src:b.a.string.isRequired,alt:b.a.string.isRequired,srcSet:b.a.array.isRequired,sizes:b.a.array.isRequired,title:b.a.string,lazyLoad:b.a.bool.isRequired,onLoad:b.a.func,children:b.a.oneOfType([b.a.arrayOf(b.a.node),b.a.node]),amp:b.a.bool.isRequired,visible:b.a.bool.isRequired,disableBackground:b.a.bool,setRef:b.a.func},t.a=Object(R.compose)(Object(N.a)(),Object(x.a)({rootMargin:500,shouldUpdate:function(e,t){return e.src!==t.src}}))(T)},zc91:function(e,t,a){"use strict";var n=a("J4zp"),i=a.n(n),r=a("q1tI"),s=a.n(r),o=a("17x9"),l=a.n(o),c=a("vftj"),d=a.n(c),u=a("PIce"),m=function(e){var t,a,n,r,o=e.colors;if(!o)return null;if(Array.isArray(o)&&o.length>=4){var l=i()(o,4);n=l[0],a=l[1],t=l[2],r=l[3]}else{if(!(o.accent&&o.articleBackground&&o.landingBackground))return null;var c=i()(o.accent,2);t=c[0],n=c[1],a=i()(o.articleBackground,1)[0],r=i()(o.landingBackground,1)[0]}var m=Object(u.h)(n),p=i()(m,3),f=p[0],g=p[1],v=p[2],h="rgba( ".concat(f,", ").concat(g,", ").concat(v,", 0.7 )"),b="rgba( ".concat(f,", ").concat(g,", ").concat(v,", 0.15 )"),k=Object(u.k)(a),y=Object(u.h)(a),E=i()(y,3),S=E[0],w=E[1],N=E[2],x="rgba( ".concat(S,", ").concat(w,", ").concat(N,", 0.0001 )"),R="* {\n\t\t--color-accent: ".concat(t,";\n\t\t--color-typography: ").concat(n,";\n\t\t--color-background: ").concat(a,";\n\t\t--color-monochrome-background: ").concat(k,";\n\t\t--color-fake-transparent: ").concat(x,";\n\t\t--color-faded-typography: ").concat(h,";\n\t\t--color-extra-faded-typography: ").concat(b,";\n\t\t--color-ui: ").concat(r,";\n\t\t--color-logo: ").concat(r,";\n\t\t--color-placeholder-background: none;\n\t}");return s.a.createElement(d.a,null,s.a.createElement("style",{type:"text/css"},R))};m.propTypes={colors:l.a.oneOfType([l.a.arrayOf(l.a.string),l.a.shape({accent:l.a.arrayOf(l.a.string).isRequired,articleBackground:l.a.arrayOf(l.a.string).isRequired,landingBackground:l.a.arrayOf(l.a.string).isRequired})])},t.a=m}}]);
//# sourceMappingURL=Article-9a170e2f1f.js.map